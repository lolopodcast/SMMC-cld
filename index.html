<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMMC Interactive Learning Platform</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700;800&family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bcg-green: #004d40;
            --bcg-green-dark: #00251a;
            --bcg-green-light: #00695c;
            --bcg-accent: #00bfa5;
            --slate-gray: #37474f;
            --slate-light: #546e7a;
            --dark-bg: #0a1929;
            --dark-surface: #1a2332;
            --light-bg: #fafafa;
            --light-surface: #ffffff;
            --accent: #00bfa5;
            --text-light: #eceff1;
            --text-dark: #263238;
            --border-subtle: #cfd8dc;
        }
        
        body {
            font-family: 'IBM Plex Sans', sans-serif;
            margin: 0;
            padding: 0;
            padding-top: 80px;
            padding-bottom: 60px;
            transition: background-color 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
        }
        
        .display-font {
            font-family: 'Playfair Display', serif;
        }
        
        .highlighted-text {
            background: linear-gradient(120deg, var(--accent) 0%, var(--accent) 100%);
            background-repeat: no-repeat;
            background-size: 100% 40%;
            background-position: 0 85%;
            transition: background-size 0.3s ease;
        }
        
        .flip-card {
            perspective: 1000px;
            cursor: pointer;
        }
        
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            padding: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }
        
        .flip-card-back {
            transform: rotateY(180deg);
        }
        
        .gradient-border {
            position: relative;
        }
        
        .gradient-border::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            padding: 2px;
            background: linear-gradient(135deg, var(--bcg-green), var(--bcg-accent));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }
        
        .bcg-card {
            border-left: 4px solid var(--bcg-accent);
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            transition: all 0.3s cubic-bezier(.25,.8,.25,1);
        }
        
        .bcg-card:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15), 0 2px 4px rgba(0,0,0,0.20);
        }
        
        header {
            position: fixed !important;
            top: 0 !important;
            z-index: 1000 !important;
            width: 100%;
            transition: background-color 0.3s ease !important;
        }
        
        footer {
            position: relative !important;
            bottom: auto !important;
            width: 100%;
            margin-top: 4rem;
        }
        
        /* Sidebar below header */
        aside {
            z-index: 900 !important;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .stagger-1 { animation-delay: 0.1s; }
        .stagger-2 { animation-delay: 0.2s; }
        .stagger-3 { animation-delay: 0.3s; }
        .stagger-4 { animation-delay: 0.4s; }
        
        .quiz-option {
            transition: all 0.3s ease;
        }
        
        .quiz-option:hover {
            transform: translateX(8px);
        }
        
        .quiz-option.correct {
            background: #10b981 !important;
            border-color: #10b981 !important;
        }
        
        .quiz-option.incorrect {
            background: #ef4444 !important;
            border-color: #ef4444 !important;
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .glossary-item {
            transition: max-height 0.3s ease;
            overflow: hidden;
        }
        
        .reading-highlight {
            background: rgba(16, 185, 129, 0.3);
            transition: background 0.3s ease;
        }
        
        .scroll-smooth {
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="scroll-smooth">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Course Data Structure
        const courseData = {
            en: {
                topics: [
                    {
                        id: 1,
                        title: "The Basics of Strategy & Corporate Governance",
                        icon: "ğŸŒ",
                        keyInsight: "Superior performance stems from sustainable competitive advantages, not luck or industry effects.",
                        tabs: [
                            {
                                id: "overview",
                                name: "Overview",
                                content: {
                                    executiveSummary: {
                                        title: "Executive Summary",
                                        points: [
                                            "Strategy is the quest for superior performance through sustainable competitive advantage.",
                                            "Corporate strategy addresses where to compete; business strategy addresses how to compete.",
                                            "Effective corporate governance aligns management decisions with stakeholder interests."
                                        ],
                                        learningObjectives: [
                                            "Distinguish between corporate and business strategy",
                                            "Understand stakeholder theory and agency problems",
                                            "Analyze corporate governance mechanisms"
                                        ]
                                    }
                                }
                            },
                            {
                                id: "core-concepts",
                                name: "Core Concepts",
                                content: {
                                    sections: [
                                        {
                                            title: "What is Strategy?",
                                            content: "Strategy is the quest for superior performance. It involves creating and capturing value through a unique positioning that is difficult for competitors to replicate. Superior performance comes from three sources: industry effects (10%), firm effects (45%), and luck/year effects (45%).",
                                            glossary: [
                                                { term: "Superior Performance", definition: "Achieving returns above the industry average through sustainable competitive advantages rather than temporary market conditions or luck." },
                                                { term: "Industry Effects", definition: "Performance variations attributable to the structural characteristics of the industry a firm operates in." },
                                                { term: "Firm Effects", definition: "Performance differences driven by firm-specific resources, capabilities, and strategic choices." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Apple's Strategic Evolution", 
                                                    url: "https://hbr.org/2020/08/how-apple-is-organized-for-innovation", 
                                                    source: "Harvard Business Review",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "Netflix Strategy Explained (Video)", 
                                                    url: "https://www.youtube.com/watch?v=qjYg2pczW_8", 
                                                    source: "YouTube - CNBC",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "Corporate vs. Business Strategy",
                                            content: "Corporate strategy addresses WHERE to compete - which industries, markets, and businesses to participate in. Business strategy addresses HOW to compete - the specific approach to achieve competitive advantage within a chosen market.",
                                            glossary: [
                                                { term: "Corporate Strategy", definition: "Top-level strategy determining the scope of the firm across multiple businesses and markets." },
                                                { term: "Business Strategy", definition: "Competitive strategy for a specific business unit or market segment." },
                                                { term: "Competitive Advantage", definition: "A firm's ability to outperform rivals through superior value creation or cost efficiency." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Amazon's Diversification Strategy", 
                                                    url: "https://www.mckinsey.com/capabilities/strategy-and-corporate-finance/our-insights/the-strategic-yardstick-you-cant-afford-to-ignore", 
                                                    source: "McKinsey",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "Tesla's Vertical Integration Explained (Video)", 
                                                    url: "https://www.youtube.com/watch?v=h970ER3i-uI", 
                                                    source: "YouTube - Economics Explained",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "Stakeholder Theory & Agency Problems",
                                            content: "Firms must balance the interests of multiple stakeholders: shareholders, employees, customers, suppliers, communities, and governments. Agency problems arise when managers' interests diverge from those of shareholders, potentially leading to suboptimal decisions.",
                                            glossary: [
                                                { term: "Stakeholder", definition: "Any individual or group that can affect or is affected by the achievement of the organization's objectives." },
                                                { term: "Agency Problem", definition: "Conflict of interest between principals (owners) and agents (managers) when the agent may not act in the principal's best interest." },
                                                { term: "Principal-Agent Theory", definition: "Framework examining how to structure relationships and contracts when one party delegates work to another who has different interests." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Boeing 737 MAX: Corporate Governance Lessons (Podcast)", 
                                                    url: "https://www.npr.org/2020/01/10/795366871/boeings-737-max-a-case-study-in-corporate-missteps", 
                                                    source: "NPR Planet Money",
                                                    type: "podcast"
                                                },
                                                { 
                                                    title: "Patagonia's Stakeholder Capitalism (Video)", 
                                                    url: "https://www.youtube.com/watch?v=fuzmWSDIEhE", 
                                                    source: "YouTube - Bloomberg",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "Corporate Governance Mechanisms",
                                            content: "Corporate governance includes both internal mechanisms (board of directors, executive compensation, ownership structure) and external mechanisms (market for corporate control, legal/regulatory framework, product market competition) to align management with stakeholder interests.",
                                            glossary: [
                                                { term: "Board of Directors", definition: "Group of individuals elected to represent shareholders and oversee management activities." },
                                                { term: "Executive Compensation", definition: "Pay packages designed to align manager incentives with shareholder value creation." },
                                                { term: "Market for Corporate Control", definition: "Mechanism whereby underperforming firms become takeover targets, disciplining management." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "WeWork Governance Collapse: Case Study", 
                                                    url: "https://www.wsj.com/articles/the-money-men-who-enabled-adam-neumanns-wework-dream-11573727654", 
                                                    source: "Wall Street Journal",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "How Microsoft's Board Works (Video)", 
                                                    url: "https://www.youtube.com/watch?v=zKbfMq0cXNA", 
                                                    source: "YouTube - Microsoft",
                                                    type: "video"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                id: "flip-cards",
                                name: "Flip Cards",
                                content: {
                                    cards: [
                                        { front: "What drives superior performance?", back: "45% firm effects + 10% industry effects + 45% luck/year. Strategy focuses on maximizing firm effects through sustainable competitive advantages." },
                                        { front: "Corporate vs. Business Strategy?", back: "Corporate strategy = WHERE to compete (which businesses/markets). Business strategy = HOW to compete (approach to win in chosen markets)." },
                                        { front: "What is an agency problem?", back: "Conflict when managers' interests diverge from shareholders', potentially leading to decisions that benefit management over owners." },
                                        { front: "Name 3 internal governance mechanisms", back: "Board of directors, executive compensation structures, and ownership concentration/structure." },
                                        { front: "Name 3 external governance mechanisms", back: "Market for corporate control (takeovers), legal/regulatory framework, and product market competition." }
                                    ]
                                }
                            },
                            {
                                id: "quiz",
                                name: "Quiz",
                                content: {
                                    questions: [
                                        {
                                            question: "What percentage of firm performance is attributed to firm-specific effects?",
                                            options: ["10%", "25%", "45%", "60%"],
                                            correct: 2
                                        },
                                        {
                                            question: "Which addresses 'where to compete'?",
                                            options: ["Business strategy", "Corporate strategy", "Functional strategy", "Operational strategy"],
                                            correct: 1
                                        },
                                        {
                                            question: "What is the primary agency problem?",
                                            options: ["High costs", "Manager-shareholder interest misalignment", "Market competition", "Regulatory compliance"],
                                            correct: 1
                                        },
                                        {
                                            question: "Which is an internal governance mechanism?",
                                            options: ["Takeover market", "Board of directors", "Product competition", "Regulations"],
                                            correct: 1
                                        },
                                        {
                                            question: "Stakeholder theory suggests firms should:",
                                            options: ["Maximize only shareholder value", "Balance multiple stakeholder interests", "Ignore external pressures", "Focus solely on profits"],
                                            correct: 1
                                        },
                                        {
                                            question: "Superior performance primarily comes from:",
                                            options: ["Luck alone", "Industry selection only", "Sustainable competitive advantages", "Market timing"],
                                            correct: 2
                                        },
                                        {
                                            question: "Executive compensation aims to:",
                                            options: ["Maximize manager wealth", "Align manager-shareholder interests", "Reduce costs", "Increase complexity"],
                                            correct: 1
                                        },
                                        {
                                            question: "Which is an external governance mechanism?",
                                            options: ["Ownership structure", "Executive pay", "Market for corporate control", "Internal audit"],
                                            correct: 2
                                        },
                                        {
                                            question: "Business strategy focuses on:",
                                            options: ["Portfolio management", "How to compete in specific markets", "Which industries to enter", "Capital allocation"],
                                            correct: 1
                                        },
                                        {
                                            question: "The weakest driver of performance is:",
                                            options: ["Firm effects", "Industry effects", "Strategic choices", "Management quality"],
                                            correct: 1
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: "Value-Price-Cost Framework & Business Model",
                        icon: "ğŸ’°",
                        keyInsight: "Value creation and capture require understanding the relationships between customer value, pricing power, and cost structure.",
                        tabs: [
                            {
                                id: "overview",
                                name: "Overview",
                                content: {
                                    executiveSummary: {
                                        title: "Executive Summary",
                                        points: [
                                            "The V-P-C framework decomposes firm performance into value creation and value appropriation.",
                                            "Customer willingness-to-pay (WTP) determines maximum value; cost determines minimum efficiency.",
                                            "Business models articulate how firms create, deliver, and capture value."
                                        ],
                                        learningObjectives: [
                                            "Apply the Value-Price-Cost framework to analyze firm performance",
                                            "Understand the relationship between value creation and appropriation",
                                            "Map business models using the Business Model Canvas"
                                        ]
                                    }
                                }
                            },
                            {
                                id: "core-concepts",
                                name: "Core Concepts",
                                content: {
                                    sections: [
                                        {
                                            title: "Understanding Firm Performance",
                                            content: "Firm performance has two dimensions: accounting performance (profitability ratios like ROA, ROE) and shareholder value (market-based measures like Tobin's q and economic value added). These metrics assess how effectively firms convert resources into profits and shareholder returns.",
                                            glossary: [
                                                { term: "ROA (Return on Assets)", definition: "Net income divided by total assets, measuring how efficiently a firm uses its assets to generate profit." },
                                                { term: "ROE (Return on Equity)", definition: "Net income divided by shareholder equity, indicating returns generated on shareholder investments." },
                                                { term: "Tobin's q", definition: "Market value of firm divided by replacement cost of assets, indicating market perception of firm quality." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Understanding ROE vs ROA (Video)", 
                                                    url: "https://www.youtube.com/watch?v=n733V-gEemo", 
                                                    source: "YouTube - The Plain Bagel",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "Warren Buffett on Financial Metrics (Podcast)", 
                                                    url: "https://www.berkshirehathaway.com/letters/2023ltr.pdf", 
                                                    source: "Berkshire Annual Letter",
                                                    type: "article"
                                                }
                                            ]
                                        },
                                        {
                                            title: "The V-P-C Framework",
                                            content: "The Value-Price-Cost framework provides a comprehensive view of how firms create and capture value. Value (V) represents customer willingness-to-pay, Price (P) is what customers actually pay, and Cost (C) represents the firm's total costs. Consumer surplus = V - P, while producer surplus (profit) = P - C. Total value created = V - C.",
                                            glossary: [
                                                { term: "Willingness-to-Pay (WTP)", definition: "Maximum amount a customer is willing to pay for a product or service, representing perceived value." },
                                                { term: "Consumer Surplus", definition: "The difference between what consumers are willing to pay and what they actually pay (V - P)." },
                                                { term: "Producer Surplus", definition: "The difference between price received and cost incurred (P - C), representing firm profit." },
                                                { term: "Value Creation", definition: "The total economic value generated, measured as V - C." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Costco's Business Model Deep Dive (Video)", 
                                                    url: "https://www.youtube.com/watch?v=6fhQPPjV96g", 
                                                    source: "YouTube - Company Man",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "Luxury Pricing Power: LVMH Case", 
                                                    url: "https://www.businessoffashion.com/articles/luxury/lvmh-earnings-resilience-luxury-market/", 
                                                    source: "Business of Fashion",
                                                    type: "article"
                                                }
                                            ]
                                        },
                                        {
                                            title: "Value Creation vs. Value Appropriation",
                                            content: "Value creation increases the total pie (V - C) through innovation, quality improvements, or cost reductions. Value appropriation (or value capture) determines how this pie is divided between customers (consumer surplus) and firms (producer surplus). Sustainable competitive advantage requires both creating more value AND capturing a larger share.",
                                            glossary: [
                                                { term: "Value Creation", definition: "Expanding total economic value by increasing WTP or reducing costs." },
                                                { term: "Value Appropriation", definition: "Capturing a larger share of created value through pricing power, bargaining, or competitive positioning." },
                                                { term: "Bargaining Power", definition: "Ability to negotiate favorable terms in transactions, affecting value distribution." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "IKEA's Blue Ocean Strategy (Video)", 
                                                    url: "https://www.youtube.com/watch?v=sdG8HXDWeX0", 
                                                    source: "YouTube - Business Casual",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "E-commerce Price Wars (Podcast)", 
                                                    url: "https://www.npr.org/2023/07/21/1189396423/amazon-walmart-price-competition", 
                                                    source: "NPR Marketplace",
                                                    type: "podcast"
                                                }
                                            ]
                                        },
                                        {
                                            title: "Business Model Canvas",
                                            content: "The Business Model Canvas maps how organizations create, deliver, and capture value across nine building blocks: customer segments, value propositions, channels, customer relationships, revenue streams, key resources, key activities, key partnerships, and cost structure. This framework helps visualize the interconnected elements of a business model.",
                                            glossary: [
                                                { term: "Value Proposition", definition: "Bundle of products and services that create value for a specific customer segment." },
                                                { term: "Customer Segments", definition: "Different groups of people or organizations a business aims to reach and serve." },
                                                { term: "Revenue Streams", definition: "Ways a business generates cash from each customer segment." },
                                                { term: "Key Resources", definition: "Most important assets required to make a business model work." }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Airbnb Business Model Explained (Video)", 
                                                    url: "https://www.youtube.com/watch?v=E1-H9iYWFDQ", 
                                                    source: "YouTube - CNBC",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "Spotify's Freemium Strategy Podcast", 
                                                    url: "https://open.spotify.com/episode/7AHPYjAzXtZfcfKxkWEWpM", 
                                                    source: "How I Built This",
                                                    type: "podcast"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                id: "flip-cards",
                                name: "Flip Cards",
                                content: {
                                    cards: [
                                        { front: "What is the V-P-C framework?", back: "Value (customer WTP), Price (actual payment), Cost (firm expense). Measures value creation (V-C) and appropriation (how V-C splits between consumer and producer surplus)." },
                                        { front: "Consumer surplus formula?", back: "Consumer Surplus = V - P (What customers gain: their willingness-to-pay minus what they actually pay)" },
                                        { front: "Producer surplus formula?", back: "Producer Surplus = P - C (Firm profit: price received minus costs incurred)" },
                                        { front: "Total value created formula?", back: "Total Value Created = V - C (Maximum economic value generated by the transaction)" },
                                        { front: "ROA vs ROE difference?", back: "ROA = Net Income / Total Assets (asset efficiency). ROE = Net Income / Equity (return to shareholders). ROE accounts for leverage." },
                                        { front: "Nine blocks of Business Model Canvas?", back: "Customer segments, value proposition, channels, customer relationships, revenue streams, key resources, key activities, key partnerships, cost structure." }
                                    ]
                                }
                            },
                            {
                                id: "quiz",
                                name: "Quiz",
                                content: {
                                    questions: [
                                        {
                                            question: "What does 'V' represent in the V-P-C framework?",
                                            options: ["Variable cost", "Customer willingness-to-pay", "Value appropriation", "Vendor price"],
                                            correct: 1
                                        },
                                        {
                                            question: "Consumer surplus is calculated as:",
                                            options: ["P - C", "V - C", "V - P", "C - V"],
                                            correct: 2
                                        },
                                        {
                                            question: "Total value created equals:",
                                            options: ["P - C", "V - P", "V - C", "P + C"],
                                            correct: 2
                                        },
                                        {
                                            question: "Producer surplus represents:",
                                            options: ["Customer benefit", "Firm profit", "Total value", "Market size"],
                                            correct: 1
                                        },
                                        {
                                            question: "ROA measures:",
                                            options: ["Market value", "Asset efficiency", "Equity returns", "Sales growth"],
                                            correct: 1
                                        },
                                        {
                                            question: "Value appropriation refers to:",
                                            options: ["Creating more value", "Reducing costs", "Capturing created value", "Increasing production"],
                                            correct: 2
                                        },
                                        {
                                            question: "Which is NOT part of Business Model Canvas?",
                                            options: ["Value proposition", "Customer segments", "Competitive advantage", "Revenue streams"],
                                            correct: 2
                                        },
                                        {
                                            question: "Tobin's q compares:",
                                            options: ["Revenue to costs", "Market value to asset replacement cost", "Profit to sales", "Debt to equity"],
                                            correct: 1
                                        },
                                        {
                                            question: "To increase value creation, firms can:",
                                            options: ["Only raise prices", "Increase WTP or reduce costs", "Only cut costs", "Only improve quality"],
                                            correct: 1
                                        },
                                        {
                                            question: "Key resources in Business Model Canvas include:",
                                            options: ["Only financial assets", "Physical, intellectual, human, and financial assets", "Only human resources", "Only technology"],
                                            correct: 1
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            zh: {
                topics: [
                    {
                        id: 1,
                        title: "ç­–ç•¥åŸºç¤èˆ‡å…¬å¸æ²»ç†",
                        icon: "ğŸŒ",
                        keyInsight: "å“è¶Šç¸¾æ•ˆæºæ–¼å¯æŒçºŒçš„ç«¶çˆ­å„ªå‹¢ï¼Œè€Œéé‹æ°£æˆ–ç”¢æ¥­æ•ˆæ‡‰ã€‚",
                        tabs: [
                            {
                                id: "overview",
                                name: "ç¸½è¦½",
                                content: {
                                    executiveSummary: {
                                        title: "åŸ·è¡Œæ‘˜è¦",
                                        points: [
                                            "ç­–ç•¥æ˜¯é€éå¯æŒçºŒç«¶çˆ­å„ªå‹¢è¿½æ±‚å“è¶Šç¸¾æ•ˆçš„éç¨‹ã€‚",
                                            "ä¼æ¥­ç­–ç•¥è™•ç†ã€Œåœ¨å“ªç«¶çˆ­ã€ï¼›äº‹æ¥­ç­–ç•¥è™•ç†ã€Œå¦‚ä½•ç«¶çˆ­ã€ã€‚",
                                            "æœ‰æ•ˆçš„å…¬å¸æ²»ç†ä½¿ç®¡ç†æ±ºç­–èˆ‡åˆ©å®³é—œä¿‚äººåˆ©ç›Šä¸€è‡´ã€‚"
                                        ],
                                        learningObjectives: [
                                            "å€åˆ†ä¼æ¥­ç­–ç•¥èˆ‡äº‹æ¥­ç­–ç•¥",
                                            "ç†è§£åˆ©å®³é—œä¿‚äººç†è«–èˆ‡ä»£ç†å•é¡Œ",
                                            "åˆ†æå…¬å¸æ²»ç†æ©Ÿåˆ¶"
                                        ]
                                    }
                                }
                            },
                            {
                                id: "core-concepts",
                                name: "æ ¸å¿ƒæ¦‚å¿µ",
                                content: {
                                    sections: [
                                        {
                                            title: "ä½•è¬‚ç­–ç•¥ï¼Ÿ",
                                            content: "ç­–ç•¥æ˜¯è¿½æ±‚å“è¶Šç¸¾æ•ˆçš„éç¨‹ã€‚å®ƒæ¶‰åŠé€éç¨ç‰¹å®šä½å‰µé€ å’Œæ“·å–åƒ¹å€¼ï¼Œä¸”é€™ç¨®å®šä½é›£ä»¥è¢«ç«¶çˆ­è€…è¤‡è£½ã€‚å“è¶Šç¸¾æ•ˆä¾†è‡ªä¸‰å€‹ä¾†æºï¼šç”¢æ¥­æ•ˆæ‡‰ï¼ˆ10%ï¼‰ã€ä¼æ¥­æ•ˆæ‡‰ï¼ˆ45%ï¼‰å’Œé‹æ°£ï¼å¹´åº¦æ•ˆæ‡‰ï¼ˆ45%ï¼‰ã€‚",
                                            glossary: [
                                                { term: "å“è¶Šç¸¾æ•ˆ", definition: "é€éå¯æŒçºŒç«¶çˆ­å„ªå‹¢è€Œéæš«æ™‚å¸‚å ´æ¢ä»¶æˆ–é‹æ°£ï¼Œé”åˆ°é«˜æ–¼ç”¢æ¥­å¹³å‡çš„å›å ±ã€‚" },
                                                { term: "ç”¢æ¥­æ•ˆæ‡‰", definition: "æ­¸å› æ–¼ä¼æ¥­æ‰€è™•ç”¢æ¥­çµæ§‹ç‰¹å¾µçš„ç¸¾æ•ˆå·®ç•°ã€‚" },
                                                { term: "ä¼æ¥­æ•ˆæ‡‰", definition: "ç”±ä¼æ¥­ç‰¹å®šè³‡æºã€èƒ½åŠ›å’Œç­–ç•¥é¸æ“‡é©…å‹•çš„ç¸¾æ•ˆå·®ç•°ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "è˜‹æœçš„ç­–ç•¥æ¼”é€²", 
                                                    url: "https://hbr.org/2020/08/how-apple-is-organized-for-innovation", 
                                                    source: "å“ˆä½›å•†æ¥­è©•è«–",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "Netflix ç­–ç•¥è§£æ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=qjYg2pczW_8", 
                                                    source: "YouTube - CNBC",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "ä¼æ¥­ç­–ç•¥èˆ‡äº‹æ¥­ç­–ç•¥",
                                            content: "ä¼æ¥­ç­–ç•¥è™•ç†ã€Œåœ¨å“ªç«¶çˆ­ã€ï¼åƒèˆ‡å“ªäº›ç”¢æ¥­ã€å¸‚å ´å’Œäº‹æ¥­ã€‚äº‹æ¥­ç­–ç•¥è™•ç†ã€Œå¦‚ä½•ç«¶çˆ­ã€ï¼åœ¨é¸å®šå¸‚å ´ä¸­é”æˆç«¶çˆ­å„ªå‹¢çš„å…·é«”æ–¹æ³•ã€‚",
                                            glossary: [
                                                { term: "ä¼æ¥­ç­–ç•¥", definition: "æ±ºå®šä¼æ¥­åœ¨å¤šå€‹äº‹æ¥­å’Œå¸‚å ´ç¯„ç–‡çš„æœ€é«˜å±¤ç´šç­–ç•¥ã€‚" },
                                                { term: "äº‹æ¥­ç­–ç•¥", definition: "é‡å°ç‰¹å®šäº‹æ¥­å–®ä½æˆ–å¸‚å ´å€éš”çš„ç«¶çˆ­ç­–ç•¥ã€‚" },
                                                { term: "ç«¶çˆ­å„ªå‹¢", definition: "ä¼æ¥­é€éå“è¶Šåƒ¹å€¼å‰µé€ æˆ–æˆæœ¬æ•ˆç‡è¶…è¶Šå°æ‰‹çš„èƒ½åŠ›ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "äºé¦¬éœçš„å¤šè§’åŒ–ç­–ç•¥", 
                                                    url: "https://www.mckinsey.com/capabilities/strategy-and-corporate-finance/our-insights/the-strategic-yardstick-you-cant-afford-to-ignore", 
                                                    source: "éº¥è‚¯éŒ«",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "ç‰¹æ–¯æ‹‰å‚ç›´æ•´åˆè§£æ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=h970ER3i-uI", 
                                                    source: "YouTube - Economics Explained",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "åˆ©å®³é—œä¿‚äººç†è«–èˆ‡ä»£ç†å•é¡Œ",
                                            content: "ä¼æ¥­å¿…é ˆå¹³è¡¡å¤šå€‹åˆ©å®³é—œä¿‚äººçš„åˆ©ç›Šï¼šè‚¡æ±ã€å“¡å·¥ã€é¡§å®¢ã€ä¾›æ‡‰å•†ã€ç¤¾å€å’Œæ”¿åºœã€‚ç•¶ç¶“ç†äººåˆ©ç›Šèˆ‡è‚¡æ±åˆ©ç›Šåˆ†æ­§æ™‚ï¼Œæœƒç”¢ç”Ÿä»£ç†å•é¡Œï¼Œå¯èƒ½å°è‡´æ¬¡å„ªæ±ºç­–ã€‚",
                                            glossary: [
                                                { term: "åˆ©å®³é—œä¿‚äºº", definition: "èƒ½å½±éŸ¿æˆ–è¢«çµ„ç¹”ç›®æ¨™é”æˆæ‰€å½±éŸ¿çš„ä»»ä½•å€‹äººæˆ–ç¾¤é«”ã€‚" },
                                                { term: "ä»£ç†å•é¡Œ", definition: "ç•¶ä»£ç†äººï¼ˆç¶“ç†äººï¼‰å¯èƒ½ä¸ä¾å§”è¨—äººï¼ˆæ‰€æœ‰è€…ï¼‰æœ€ä½³åˆ©ç›Šè¡Œäº‹æ™‚ï¼Œå…©è€…é–“çš„åˆ©ç›Šè¡çªã€‚" },
                                                { term: "å§”è¨—ä»£ç†ç†è«–", definition: "æª¢è¦–ç•¶ä¸€æ–¹å°‡å·¥ä½œå§”è¨—çµ¦å…·æœ‰ä¸åŒåˆ©ç›Šçš„å¦ä¸€æ–¹æ™‚ï¼Œå¦‚ä½•å»ºæ§‹é—œä¿‚å’Œå¥‘ç´„çš„æ¶æ§‹ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "æ³¢éŸ³ 737 MAXï¼šå…¬å¸æ²»ç†æ•™è¨“ (æ’­å®¢)", 
                                                    url: "https://www.npr.org/2020/01/10/795366871/boeings-737-max-a-case-study-in-corporate-missteps", 
                                                    source: "NPR Planet Money",
                                                    type: "podcast"
                                                },
                                                { 
                                                    title: "Patagonia çš„åˆ©å®³é—œä¿‚äººè³‡æœ¬ä¸»ç¾© (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=fuzmWSDIEhE", 
                                                    source: "YouTube - Bloomberg",
                                                    type: "video"
                                                }
                                            ]
                                        },
                                        {
                                            title: "å…¬å¸æ²»ç†æ©Ÿåˆ¶",
                                            content: "å…¬å¸æ²»ç†åŒ…æ‹¬å…§éƒ¨æ©Ÿåˆ¶ï¼ˆè‘£äº‹æœƒã€é«˜éšä¸»ç®¡è–ªé…¬ã€æ‰€æœ‰æ¬Šçµæ§‹ï¼‰å’Œå¤–éƒ¨æ©Ÿåˆ¶ï¼ˆä¼æ¥­æ§åˆ¶æ¬Šå¸‚å ´ã€æ³•å¾‹ï¼ç›£ç®¡æ¶æ§‹ã€ç”¢å“å¸‚å ´ç«¶çˆ­ï¼‰ï¼Œä»¥ä½¿ç®¡ç†èˆ‡åˆ©å®³é—œä¿‚äººåˆ©ç›Šä¸€è‡´ã€‚",
                                            glossary: [
                                                { term: "è‘£äº‹æœƒ", definition: "ç”±é¸å‡ºçš„å€‹äººçµ„æˆçš„åœ˜é«”ï¼Œä»£è¡¨è‚¡æ±ä¸¦ç›£ç£ç®¡ç†æ´»å‹•ã€‚" },
                                                { term: "é«˜éšä¸»ç®¡è–ªé…¬", definition: "è¨­è¨ˆç”¨ä¾†ä½¿ç¶“ç†äººæ¿€å‹µèˆ‡è‚¡æ±åƒ¹å€¼å‰µé€ ä¸€è‡´çš„è–ªé…¬æ–¹æ¡ˆã€‚" },
                                                { term: "ä¼æ¥­æ§åˆ¶æ¬Šå¸‚å ´", definition: "ç¸¾æ•ˆä¸ä½³çš„ä¼æ¥­æˆç‚ºæ”¶è³¼ç›®æ¨™çš„æ©Ÿåˆ¶ï¼Œä»¥ç´„æŸç®¡ç†éšå±¤ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "WeWork æ²»ç†å´©æ½°ï¼šå€‹æ¡ˆç ”ç©¶", 
                                                    url: "https://www.wsj.com/articles/the-money-men-who-enabled-adam-neumanns-wework-dream-11573727654", 
                                                    source: "è¯çˆ¾è¡—æ—¥å ±",
                                                    type: "article"
                                                },
                                                { 
                                                    title: "å¾®è»Ÿè‘£äº‹æœƒé‹ä½œæ–¹å¼ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=zKbfMq0cXNA", 
                                                    source: "YouTube - Microsoft",
                                                    type: "video"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                id: "flip-cards",
                                name: "ç¿»è½‰å¡",
                                content: {
                                    cards: [
                                        { front: "æ˜¯ä»€éº¼é©…å‹•å“è¶Šç¸¾æ•ˆï¼Ÿ", back: "45% ä¼æ¥­æ•ˆæ‡‰ + 10% ç”¢æ¥­æ•ˆæ‡‰ + 45% é‹æ°£ï¼å¹´åº¦æ•ˆæ‡‰ã€‚ç­–ç•¥å°ˆæ³¨æ–¼é€éå¯æŒçºŒç«¶çˆ­å„ªå‹¢æœ€å¤§åŒ–ä¼æ¥­æ•ˆæ‡‰ã€‚" },
                                        { front: "ä¼æ¥­ç­–ç•¥èˆ‡äº‹æ¥­ç­–ç•¥ï¼Ÿ", back: "ä¼æ¥­ç­–ç•¥ = åœ¨å“ªç«¶çˆ­ï¼ˆå“ªäº›äº‹æ¥­ï¼å¸‚å ´ï¼‰ã€‚äº‹æ¥­ç­–ç•¥ = å¦‚ä½•ç«¶çˆ­ï¼ˆåœ¨é¸å®šå¸‚å ´ä¸­ç²å‹çš„æ–¹æ³•ï¼‰ã€‚" },
                                        { front: "ä½•è¬‚ä»£ç†å•é¡Œï¼Ÿ", back: "ç•¶ç¶“ç†äººåˆ©ç›Šèˆ‡è‚¡æ±åˆ©ç›Šåˆ†æ­§æ™‚çš„è¡çªï¼Œå¯èƒ½å°è‡´æœ‰åˆ©æ–¼ç®¡ç†éšå±¤è€Œéæ‰€æœ‰è€…çš„æ±ºç­–ã€‚" },
                                        { front: "åˆ—å‡º3å€‹å…§éƒ¨æ²»ç†æ©Ÿåˆ¶", back: "è‘£äº‹æœƒã€é«˜éšä¸»ç®¡è–ªé…¬çµæ§‹ã€æ‰€æœ‰æ¬Šé›†ä¸­åº¦ï¼çµæ§‹ã€‚" },
                                        { front: "åˆ—å‡º3å€‹å¤–éƒ¨æ²»ç†æ©Ÿåˆ¶", back: "ä¼æ¥­æ§åˆ¶æ¬Šå¸‚å ´ï¼ˆæ”¶è³¼ï¼‰ã€æ³•å¾‹ï¼ç›£ç®¡æ¶æ§‹ã€ç”¢å“å¸‚å ´ç«¶çˆ­ã€‚" }
                                    ]
                                }
                            },
                            {
                                id: "quiz",
                                name: "æ¸¬é©—",
                                content: {
                                    questions: [
                                        {
                                            question: "ä¼æ¥­ç‰¹å®šæ•ˆæ‡‰å°ä¼æ¥­ç¸¾æ•ˆçš„è²¢ç»æ¯”ä¾‹ç‚ºä½•ï¼Ÿ",
                                            options: ["10%", "25%", "45%", "60%"],
                                            correct: 2
                                        },
                                        {
                                            question: "ä½•è€…è™•ç†ã€Œåœ¨å“ªç«¶çˆ­ã€ï¼Ÿ",
                                            options: ["äº‹æ¥­ç­–ç•¥", "ä¼æ¥­ç­–ç•¥", "åŠŸèƒ½æ€§ç­–ç•¥", "ç‡Ÿé‹ç­–ç•¥"],
                                            correct: 1
                                        },
                                        {
                                            question: "ä¸»è¦çš„ä»£ç†å•é¡Œæ˜¯ä»€éº¼ï¼Ÿ",
                                            options: ["é«˜æˆæœ¬", "ç¶“ç†äºº-è‚¡æ±åˆ©ç›Šä¸ä¸€è‡´", "å¸‚å ´ç«¶çˆ­", "æ³•è¦éµå¾ª"],
                                            correct: 1
                                        },
                                        {
                                            question: "ä½•è€…æ˜¯å…§éƒ¨æ²»ç†æ©Ÿåˆ¶ï¼Ÿ",
                                            options: ["æ”¶è³¼å¸‚å ´", "è‘£äº‹æœƒ", "ç”¢å“ç«¶çˆ­", "æ³•è¦"],
                                            correct: 1
                                        },
                                        {
                                            question: "åˆ©å®³é—œä¿‚äººç†è«–å»ºè­°ä¼æ¥­æ‡‰ï¼š",
                                            options: ["åƒ…æœ€å¤§åŒ–è‚¡æ±åƒ¹å€¼", "å¹³è¡¡å¤šå€‹åˆ©å®³é—œä¿‚äººåˆ©ç›Š", "å¿½è¦–å¤–éƒ¨å£“åŠ›", "åƒ…å°ˆæ³¨åˆ©æ½¤"],
                                            correct: 1
                                        },
                                        {
                                            question: "å“è¶Šç¸¾æ•ˆä¸»è¦ä¾†è‡ªï¼š",
                                            options: ["åƒ…é é‹æ°£", "åƒ…é ç”¢æ¥­é¸æ“‡", "å¯æŒçºŒç«¶çˆ­å„ªå‹¢", "å¸‚å ´æ™‚æ©Ÿ"],
                                            correct: 2
                                        },
                                        {
                                            question: "é«˜éšä¸»ç®¡è–ªé…¬æ—¨åœ¨ï¼š",
                                            options: ["æœ€å¤§åŒ–ç¶“ç†äººè²¡å¯Œ", "ä½¿ç¶“ç†äºº-è‚¡æ±åˆ©ç›Šä¸€è‡´", "é™ä½æˆæœ¬", "å¢åŠ è¤‡é›œæ€§"],
                                            correct: 1
                                        },
                                        {
                                            question: "ä½•è€…æ˜¯å¤–éƒ¨æ²»ç†æ©Ÿåˆ¶ï¼Ÿ",
                                            options: ["æ‰€æœ‰æ¬Šçµæ§‹", "é«˜éšä¸»ç®¡è–ªé…¬", "ä¼æ¥­æ§åˆ¶æ¬Šå¸‚å ´", "å…§éƒ¨ç¨½æ ¸"],
                                            correct: 2
                                        },
                                        {
                                            question: "äº‹æ¥­ç­–ç•¥å°ˆæ³¨æ–¼ï¼š",
                                            options: ["æŠ•è³‡çµ„åˆç®¡ç†", "å¦‚ä½•åœ¨ç‰¹å®šå¸‚å ´ç«¶çˆ­", "é€²å…¥å“ªäº›ç”¢æ¥­", "è³‡æœ¬é…ç½®"],
                                            correct: 1
                                        },
                                        {
                                            question: "ç¸¾æ•ˆæœ€å¼±çš„é©…å‹•å› ç´ æ˜¯ï¼š",
                                            options: ["ä¼æ¥­æ•ˆæ‡‰", "ç”¢æ¥­æ•ˆæ‡‰", "ç­–ç•¥é¸æ“‡", "ç®¡ç†å“è³ª"],
                                            correct: 1
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: "åƒ¹å€¼-åƒ¹æ ¼-æˆæœ¬æ¶æ§‹èˆ‡å•†æ¥­æ¨¡å¼",
                        icon: "ğŸ’°",
                        keyInsight: "åƒ¹å€¼å‰µé€ èˆ‡æ“·å–éœ€è¦ç†è§£é¡§å®¢åƒ¹å€¼ã€å®šåƒ¹èƒ½åŠ›å’Œæˆæœ¬çµæ§‹ä¹‹é–“çš„é—œä¿‚ã€‚",
                        tabs: [
                            {
                                id: "overview",
                                name: "ç¸½è¦½",
                                content: {
                                    executiveSummary: {
                                        title: "åŸ·è¡Œæ‘˜è¦",
                                        points: [
                                            "V-P-Cæ¶æ§‹å°‡ä¼æ¥­ç¸¾æ•ˆåˆ†è§£ç‚ºåƒ¹å€¼å‰µé€ å’Œåƒ¹å€¼æ“·å–ã€‚",
                                            "é¡§å®¢é¡˜ä»˜åƒ¹æ ¼ï¼ˆWTPï¼‰æ±ºå®šæœ€å¤§åƒ¹å€¼ï¼›æˆæœ¬æ±ºå®šæœ€ä½æ•ˆç‡ã€‚",
                                            "å•†æ¥­æ¨¡å¼é—¡æ˜ä¼æ¥­å¦‚ä½•å‰µé€ ã€äº¤ä»˜å’Œæ“·å–åƒ¹å€¼ã€‚"
                                        ],
                                        learningObjectives: [
                                            "æ‡‰ç”¨åƒ¹å€¼-åƒ¹æ ¼-æˆæœ¬æ¶æ§‹åˆ†æä¼æ¥­ç¸¾æ•ˆ",
                                            "ç†è§£åƒ¹å€¼å‰µé€ èˆ‡æ“·å–ä¹‹é–“çš„é—œä¿‚",
                                            "ä½¿ç”¨å•†æ¥­æ¨¡å¼åœ–ç¹ªè£½å•†æ¥­æ¨¡å¼"
                                        ]
                                    }
                                }
                            },
                            {
                                id: "core-concepts",
                                name: "æ ¸å¿ƒæ¦‚å¿µ",
                                content: {
                                    sections: [
                                        {
                                            title: "ç†è§£ä¼æ¥­ç¸¾æ•ˆ",
                                            content: "ä¼æ¥­ç¸¾æ•ˆæœ‰å…©å€‹é¢å‘ï¼šæœƒè¨ˆç¸¾æ•ˆï¼ˆå¦‚ROAã€ROEç­‰ç²åˆ©ç‡ï¼‰å’Œè‚¡æ±åƒ¹å€¼ï¼ˆå¦‚Tobin's qå’Œç¶“æ¿Ÿé™„åŠ åƒ¹å€¼ç­‰å¸‚å ´æŒ‡æ¨™ï¼‰ã€‚é€™äº›æŒ‡æ¨™è©•ä¼°ä¼æ¥­å¦‚ä½•æœ‰æ•ˆåœ°å°‡è³‡æºè½‰æ›ç‚ºåˆ©æ½¤å’Œè‚¡æ±å›å ±ã€‚",
                                            glossary: [
                                                { term: "è³‡ç”¢å ±é…¬ç‡ï¼ˆROAï¼‰", definition: "æ·¨åˆ©é™¤ä»¥ç¸½è³‡ç”¢ï¼Œè¡¡é‡ä¼æ¥­ä½¿ç”¨è³‡ç”¢ç”¢ç”Ÿåˆ©æ½¤çš„æ•ˆç‡ã€‚" },
                                                { term: "è‚¡æ±æ¬Šç›Šå ±é…¬ç‡ï¼ˆROEï¼‰", definition: "æ·¨åˆ©é™¤ä»¥è‚¡æ±æ¬Šç›Šï¼Œé¡¯ç¤ºè‚¡æ±æŠ•è³‡ç”¢ç”Ÿçš„å›å ±ã€‚" },
                                                { term: "Tobin's q", definition: "ä¼æ¥­å¸‚å€¼é™¤ä»¥è³‡ç”¢é‡ç½®æˆæœ¬ï¼Œé¡¯ç¤ºå¸‚å ´å°ä¼æ¥­å“è³ªçš„çœ‹æ³•ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "ç†è§£ ROE vs ROA (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=n733V-gEemo", 
                                                    source: "YouTube - The Plain Bagel",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "è¯å€«Â·å·´è²ç‰¹è«‡è²¡å‹™æŒ‡æ¨™ (æ’­å®¢)", 
                                                    url: "https://www.berkshirehathaway.com/letters/2023ltr.pdf", 
                                                    source: "æ³¢å…‹å¤å¹´åº¦ä¿¡",
                                                    type: "article"
                                                }
                                            ]
                                        },
                                        {
                                            title: "V-P-Cæ¶æ§‹",
                                            content: "åƒ¹å€¼-åƒ¹æ ¼-æˆæœ¬æ¶æ§‹æä¾›ä¼æ¥­å¦‚ä½•å‰µé€ å’Œæ“·å–åƒ¹å€¼çš„å…¨é¢è§€é»ã€‚åƒ¹å€¼ï¼ˆVï¼‰ä»£è¡¨é¡§å®¢é¡˜ä»˜åƒ¹æ ¼ï¼Œåƒ¹æ ¼ï¼ˆPï¼‰æ˜¯é¡§å®¢å¯¦éš›æ”¯ä»˜é‡‘é¡ï¼Œæˆæœ¬ï¼ˆCï¼‰ä»£è¡¨ä¼æ¥­ç¸½æˆæœ¬ã€‚æ¶ˆè²»è€…å‰©é¤˜ = V - Pï¼Œè€Œç”Ÿç”¢è€…å‰©é¤˜ï¼ˆåˆ©æ½¤ï¼‰= P - Cã€‚ç¸½å‰µé€ åƒ¹å€¼ = V - Cã€‚",
                                            glossary: [
                                                { term: "é¡˜ä»˜åƒ¹æ ¼ï¼ˆWTPï¼‰", definition: "é¡§å®¢é¡˜æ„ç‚ºç”¢å“æˆ–æœå‹™æ”¯ä»˜çš„æœ€å¤§é‡‘é¡ï¼Œä»£è¡¨èªçŸ¥åƒ¹å€¼ã€‚" },
                                                { term: "æ¶ˆè²»è€…å‰©é¤˜", definition: "æ¶ˆè²»è€…é¡˜æ„æ”¯ä»˜èˆ‡å¯¦éš›æ”¯ä»˜ä¹‹é–“çš„å·®é¡ï¼ˆV - Pï¼‰ã€‚" },
                                                { term: "ç”Ÿç”¢è€…å‰©é¤˜", definition: "æ”¶åˆ°çš„åƒ¹æ ¼èˆ‡ç”¢ç”Ÿçš„æˆæœ¬ä¹‹é–“çš„å·®é¡ï¼ˆP - Cï¼‰ï¼Œä»£è¡¨ä¼æ¥­åˆ©æ½¤ã€‚" },
                                                { term: "åƒ¹å€¼å‰µé€ ", definition: "ç”¢ç”Ÿçš„ç¸½ç¶“æ¿Ÿåƒ¹å€¼ï¼Œä»¥ V - C è¡¡é‡ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "å¥½å¸‚å¤šå•†æ¥­æ¨¡å¼æ·±åº¦è§£æ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=6fhQPPjV96g", 
                                                    source: "YouTube - Company Man",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "ç²¾å“å®šåƒ¹èƒ½åŠ›ï¼šLVMH å€‹æ¡ˆ", 
                                                    url: "https://www.businessoffashion.com/articles/luxury/lvmh-earnings-resilience-luxury-market/", 
                                                    source: "Business of Fashion",
                                                    type: "article"
                                                }
                                            ]
                                        },
                                        {
                                            title: "åƒ¹å€¼å‰µé€ èˆ‡åƒ¹å€¼æ“·å–",
                                            content: "åƒ¹å€¼å‰µé€ é€éå‰µæ–°ã€å“è³ªæ”¹å–„æˆ–æˆæœ¬é™ä½å¢åŠ ç¸½é¤…ï¼ˆV - Cï¼‰ã€‚åƒ¹å€¼æ“·å–æ±ºå®šé€™å€‹é¤…å¦‚ä½•åœ¨é¡§å®¢ï¼ˆæ¶ˆè²»è€…å‰©é¤˜ï¼‰å’Œä¼æ¥­ï¼ˆç”Ÿç”¢è€…å‰©é¤˜ï¼‰ä¹‹é–“åˆ†é…ã€‚å¯æŒçºŒç«¶çˆ­å„ªå‹¢éœ€è¦æ—¢å‰µé€ æ›´å¤šåƒ¹å€¼ï¼Œåˆæ“·å–æ›´å¤§ä»½é¡ã€‚",
                                            glossary: [
                                                { term: "åƒ¹å€¼å‰µé€ ", definition: "é€éæé«˜WTPæˆ–é™ä½æˆæœ¬æ“´å¤§ç¸½ç¶“æ¿Ÿåƒ¹å€¼ã€‚" },
                                                { term: "åƒ¹å€¼æ“·å–", definition: "é€éå®šåƒ¹èƒ½åŠ›ã€è­°åƒ¹æˆ–ç«¶çˆ­å®šä½æ“·å–æ›´å¤§ä»½é¡çš„å‰µé€ åƒ¹å€¼ã€‚" },
                                                { term: "è­°åƒ¹èƒ½åŠ›", definition: "åœ¨äº¤æ˜“ä¸­è«‡åˆ¤æœ‰åˆ©æ¢ä»¶çš„èƒ½åŠ›ï¼Œå½±éŸ¿åƒ¹å€¼åˆ†é…ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "IKEA çš„è—æµ·ç­–ç•¥ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=sdG8HXDWeX0", 
                                                    source: "YouTube - Business Casual",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "é›»å•†åƒ¹æ ¼æˆ° (æ’­å®¢)", 
                                                    url: "https://www.npr.org/2023/07/21/1189396423/amazon-walmart-price-competition", 
                                                    source: "NPR Marketplace",
                                                    type: "podcast"
                                                }
                                            ]
                                        },
                                        {
                                            title: "å•†æ¥­æ¨¡å¼åœ–",
                                            content: "å•†æ¥­æ¨¡å¼åœ–å‘ˆç¾çµ„ç¹”å¦‚ä½•è·¨è¶Šä¹å€‹æ§‹æˆè¦ç´ å‰µé€ ã€äº¤ä»˜å’Œæ“·å–åƒ¹å€¼ï¼šç›®æ¨™å®¢å±¤ã€åƒ¹å€¼ä¸»å¼µã€é€šè·¯ã€é¡§å®¢é—œä¿‚ã€æ”¶ç›Šæµã€é—œéµè³‡æºã€é—œéµæ´»å‹•ã€é—œéµå¤¥ä¼´å’Œæˆæœ¬çµæ§‹ã€‚é€™å€‹æ¶æ§‹æœ‰åŠ©æ–¼è¦–è¦ºåŒ–å•†æ¥­æ¨¡å¼çš„ç›¸äº’é€£çµå…ƒç´ ã€‚",
                                            glossary: [
                                                { term: "åƒ¹å€¼ä¸»å¼µ", definition: "ç‚ºç‰¹å®šç›®æ¨™å®¢å±¤å‰µé€ åƒ¹å€¼çš„ç”¢å“å’Œæœå‹™çµ„åˆã€‚" },
                                                { term: "ç›®æ¨™å®¢å±¤", definition: "ä¼æ¥­æ—¨åœ¨æ¥è§¸å’Œæœå‹™çš„ä¸åŒäººç¾¤æˆ–çµ„ç¹”ã€‚" },
                                                { term: "æ”¶ç›Šæµ", definition: "ä¼æ¥­å¾æ¯å€‹ç›®æ¨™å®¢å±¤ç”¢ç”Ÿç¾é‡‘çš„æ–¹å¼ã€‚" },
                                                { term: "é—œéµè³‡æº", definition: "ä½¿å•†æ¥­æ¨¡å¼é‹ä½œæ‰€éœ€çš„æœ€é‡è¦è³‡ç”¢ã€‚" }
                                            ],
                                            practicalLinks: [
                                                { 
                                                    title: "Airbnb å•†æ¥­æ¨¡å¼è§£æ (å½±ç‰‡)", 
                                                    url: "https://www.youtube.com/watch?v=E1-H9iYWFDQ", 
                                                    source: "YouTube - CNBC",
                                                    type: "video"
                                                },
                                                { 
                                                    title: "Spotify å…è²»å¢å€¼ç­–ç•¥æ’­å®¢", 
                                                    url: "https://open.spotify.com/episode/7AHPYjAzXtZfcfKxkWEWpM", 
                                                    source: "How I Built This",
                                                    type: "podcast"
                                                }
                                            ]
                                        }
                                    ]
                                }
                            },
                            {
                                id: "flip-cards",
                                name: "ç¿»è½‰å¡",
                                content: {
                                    cards: [
                                        { front: "ä½•è¬‚V-P-Cæ¶æ§‹ï¼Ÿ", back: "åƒ¹å€¼ï¼ˆé¡§å®¢WTPï¼‰ã€åƒ¹æ ¼ï¼ˆå¯¦éš›æ”¯ä»˜ï¼‰ã€æˆæœ¬ï¼ˆä¼æ¥­è²»ç”¨ï¼‰ã€‚è¡¡é‡åƒ¹å€¼å‰µé€ ï¼ˆV-Cï¼‰å’Œæ“·å–ï¼ˆV-Cå¦‚ä½•åœ¨æ¶ˆè²»è€…èˆ‡ç”Ÿç”¢è€…å‰©é¤˜é–“åˆ†é…ï¼‰ã€‚" },
                                        { front: "æ¶ˆè²»è€…å‰©é¤˜å…¬å¼ï¼Ÿ", back: "æ¶ˆè²»è€…å‰©é¤˜ = V - Pï¼ˆé¡§å®¢ç²å¾—ï¼šå…¶é¡˜ä»˜åƒ¹æ ¼æ¸›å»å¯¦éš›æ”¯ä»˜ï¼‰" },
                                        { front: "ç”Ÿç”¢è€…å‰©é¤˜å…¬å¼ï¼Ÿ", back: "ç”Ÿç”¢è€…å‰©é¤˜ = P - Cï¼ˆä¼æ¥­åˆ©æ½¤ï¼šæ”¶åˆ°çš„åƒ¹æ ¼æ¸›å»ç”¢ç”Ÿçš„æˆæœ¬ï¼‰" },
                                        { front: "ç¸½å‰µé€ åƒ¹å€¼å…¬å¼ï¼Ÿ", back: "ç¸½å‰µé€ åƒ¹å€¼ = V - Cï¼ˆäº¤æ˜“ç”¢ç”Ÿçš„æœ€å¤§ç¶“æ¿Ÿåƒ¹å€¼ï¼‰" },
                                        { front: "ROAèˆ‡ROEå·®ç•°ï¼Ÿ", back: "ROA = æ·¨åˆ© / ç¸½è³‡ç”¢ï¼ˆè³‡ç”¢æ•ˆç‡ï¼‰ã€‚ROE = æ·¨åˆ© / æ¬Šç›Šï¼ˆè‚¡æ±å›å ±ï¼‰ã€‚ROEè€ƒæ…®æ§“æ¡¿ã€‚" },
                                        { front: "å•†æ¥­æ¨¡å¼åœ–çš„ä¹å€‹è¦ç´ ï¼Ÿ", back: "ç›®æ¨™å®¢å±¤ã€åƒ¹å€¼ä¸»å¼µã€é€šè·¯ã€é¡§å®¢é—œä¿‚ã€æ”¶ç›Šæµã€é—œéµè³‡æºã€é—œéµæ´»å‹•ã€é—œéµå¤¥ä¼´ã€æˆæœ¬çµæ§‹ã€‚" }
                                    ]
                                }
                            },
                            {
                                id: "quiz",
                                name: "æ¸¬é©—",
                                content: {
                                    questions: [
                                        {
                                            question: "V-P-Cæ¶æ§‹ä¸­çš„ã€ŒVã€ä»£è¡¨ä»€éº¼ï¼Ÿ",
                                            options: ["è®Šå‹•æˆæœ¬", "é¡§å®¢é¡˜ä»˜åƒ¹æ ¼", "åƒ¹å€¼æ“·å–", "ä¾›æ‡‰å•†åƒ¹æ ¼"],
                                            correct: 1
                                        },
                                        {
                                            question: "æ¶ˆè²»è€…å‰©é¤˜çš„è¨ˆç®—æ–¹å¼ï¼š",
                                            options: ["P - C", "V - C", "V - P", "C - V"],
                                            correct: 2
                                        },
                                        {
                                            question: "ç¸½å‰µé€ åƒ¹å€¼ç­‰æ–¼ï¼š",
                                            options: ["P - C", "V - P", "V - C", "P + C"],
                                            correct: 2
                                        },
                                        {
                                            question: "ç”Ÿç”¢è€…å‰©é¤˜ä»£è¡¨ï¼š",
                                            options: ["é¡§å®¢åˆ©ç›Š", "ä¼æ¥­åˆ©æ½¤", "ç¸½åƒ¹å€¼", "å¸‚å ´è¦æ¨¡"],
                                            correct: 1
                                        },
                                        {
                                            question: "ROAè¡¡é‡ï¼š",
                                            options: ["å¸‚å€¼", "è³‡ç”¢æ•ˆç‡", "æ¬Šç›Šå›å ±", "éŠ·å”®æˆé•·"],
                                            correct: 1
                                        },
                                        {
                                            question: "åƒ¹å€¼æ“·å–æŒ‡çš„æ˜¯ï¼š",
                                            options: ["å‰µé€ æ›´å¤šåƒ¹å€¼", "é™ä½æˆæœ¬", "æ“·å–å‰µé€ çš„åƒ¹å€¼", "å¢åŠ ç”Ÿç”¢"],
                                            correct: 2
                                        },
                                        {
                                            question: "ä½•è€…ä¸æ˜¯å•†æ¥­æ¨¡å¼åœ–çš„ä¸€éƒ¨åˆ†ï¼Ÿ",
                                            options: ["åƒ¹å€¼ä¸»å¼µ", "ç›®æ¨™å®¢å±¤", "ç«¶çˆ­å„ªå‹¢", "æ”¶ç›Šæµ"],
                                            correct: 2
                                        },
                                        {
                                            question: "Tobin's qæ¯”è¼ƒï¼š",
                                            options: ["æ”¶å…¥èˆ‡æˆæœ¬", "å¸‚å€¼èˆ‡è³‡ç”¢é‡ç½®æˆæœ¬", "åˆ©æ½¤èˆ‡éŠ·å”®", "å‚µå‹™èˆ‡æ¬Šç›Š"],
                                            correct: 1
                                        },
                                        {
                                            question: "è¦å¢åŠ åƒ¹å€¼å‰µé€ ï¼Œä¼æ¥­å¯ä»¥ï¼š",
                                            options: ["åƒ…æé«˜åƒ¹æ ¼", "æé«˜WTPæˆ–é™ä½æˆæœ¬", "åƒ…å‰Šæ¸›æˆæœ¬", "åƒ…æ”¹å–„å“è³ª"],
                                            correct: 1
                                        },
                                        {
                                            question: "å•†æ¥­æ¨¡å¼åœ–ä¸­çš„é—œéµè³‡æºåŒ…æ‹¬ï¼š",
                                            options: ["åƒ…è²¡å‹™è³‡ç”¢", "å¯¦é«”ã€æ™ºæ…§ã€äººåŠ›å’Œè²¡å‹™è³‡ç”¢", "åƒ…äººåŠ›è³‡æº", "åƒ…ç§‘æŠ€"],
                                            correct: 1
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            }
        };

        // Main App Component
        function App() {
            const [language, setLanguage] = useState('en');
            const [darkMode, setDarkMode] = useState(true);
            const [menuOpen, setMenuOpen] = useState(false);
            const [currentTopic, setCurrentTopic] = useState(1);
            const [currentTab, setCurrentTab] = useState('overview');
            const [showDashboard, setShowDashboard] = useState(false);
            const [showAIAssistant, setShowAIAssistant] = useState(false);
            const [progress, setProgress] = useState({});
            const [quizResults, setQuizResults] = useState({});
            const [isTTSActive, setIsTTSActive] = useState(false);

            const content = courseData[language];
            const topic = content.topics.find(t => t.id === currentTopic);
            const tab = topic?.tabs.find(t => t.id === currentTab);

            useEffect(() => {
                document.body.style.backgroundColor = darkMode ? 'var(--dark-bg)' : 'var(--light-bg)';
                document.body.style.color = darkMode ? 'var(--text-light)' : 'var(--text-dark)';
            }, [darkMode]);

            // Monitor speech synthesis state
            useEffect(() => {
                const checkTTS = setInterval(() => {
                    setIsTTSActive(window.speechSynthesis.speaking);
                }, 200);
                
                return () => clearInterval(checkTTS);
            }, []);

            const handleStopTTS = () => {
                window.speechSynthesis.cancel();
                setIsTTSActive(false);
            };

            const toggleLanguage = () => setLanguage(language === 'en' ? 'zh' : 'en');
            const toggleDarkMode = () => setDarkMode(!darkMode);

            return (
                <div className="min-h-screen">
                    <Header 
                        language={language}
                        darkMode={darkMode}
                        onToggleLanguage={toggleLanguage}
                        onToggleDarkMode={toggleDarkMode}
                        onToggleMenu={() => setMenuOpen(!menuOpen)}
                        onShowDashboard={() => setShowDashboard(true)}
                    />
                    
                    {/* Overlay to close menu when clicking outside */}
                    {menuOpen && (
                        <div 
                            className="fixed inset-0 z-[800] bg-black bg-opacity-30"
                            onClick={() => setMenuOpen(false)}
                        />
                    )}
                    
                    <Sidebar 
                        isOpen={menuOpen}
                        topics={content.topics}
                        currentTopic={currentTopic}
                        onSelectTopic={(id) => {
                            setCurrentTopic(id);
                            setCurrentTab('overview');
                            setMenuOpen(false);
                        }}
                        darkMode={darkMode}
                        language={language}
                    />

                    <main className="pt-8 px-4 md:px-8 lg:px-16 min-h-screen">
                        {topic && (
                            <div className="max-w-7xl mx-auto">
                                <TopicHeader topic={topic} darkMode={darkMode} />
                                <TabNavigation 
                                    tabs={topic.tabs}
                                    currentTab={currentTab}
                                    onTabChange={setCurrentTab}
                                    darkMode={darkMode}
                                />
                                <TabContent 
                                    tab={tab}
                                    darkMode={darkMode}
                                    language={language}
                                    topicId={topic.id}
                                    quizResults={quizResults}
                                    setQuizResults={setQuizResults}
                                />
                            </div>
                        )}
                    </main>

                    {showDashboard && (
                        <Dashboard 
                            onClose={() => setShowDashboard(false)}
                            progress={progress}
                            quizResults={quizResults}
                            darkMode={darkMode}
                            language={language}
                        />
                    )}

                    {showAIAssistant && (
                        <AIAssistant 
                            onClose={() => setShowAIAssistant(false)}
                            darkMode={darkMode}
                            language={language}
                            courseData={courseData}
                        />
                    )}

                    <FloatingButtons 
                        onShowAI={() => setShowAIAssistant(true)}
                        darkMode={darkMode}
                        isTTSActive={isTTSActive}
                        onStopTTS={handleStopTTS}
                    />

                    <Footer darkMode={darkMode} language={language} />
                </div>
            );
        }

        // Header Component
        function Header({ language, darkMode, onToggleLanguage, onToggleDarkMode, onToggleMenu, onShowDashboard }) {
            return (
                <header className={`fixed top-0 w-full z-50 ${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} shadow-lg transition-all duration-300`}>
                    <div className="flex items-center justify-between px-6 py-4">
                        <div className="flex items-center space-x-4">
                            <button onClick={onToggleMenu} className="p-2 hover:bg-opacity-10 hover:bg-white rounded-lg transition-all">
                                <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
                                </svg>
                            </button>
                            <h1 className="text-xl md:text-2xl font-bold display-font">
                                <span style={{color: 'var(--bcg-green)'}}>SMMC</span> {language === 'en' ? 'Learning Platform' : 'å­¸ç¿’å¹³å°'}
                            </h1>
                        </div>
                        
                        <div className="flex items-center space-x-3">
                            <button onClick={onShowDashboard} className="p-2 hover:bg-opacity-10 hover:bg-white rounded-lg transition-all" title={language === 'en' ? 'Dashboard' : 'å„€è¡¨æ¿'}>
                                <svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                                </svg>
                            </button>
                            <button onClick={onToggleLanguage} className="px-3 py-1 rounded-lg border transition-all hover:bg-opacity-10 hover:bg-white" style={{borderColor: 'var(--bcg-green)'}}>
                                {language === 'en' ? 'ç¹ä¸­' : 'EN'}
                            </button>
                            <button onClick={onToggleDarkMode} className="p-2 hover:bg-opacity-10 hover:bg-white rounded-lg transition-all">
                                {darkMode ? 'â˜€ï¸' : 'ğŸŒ™'}
                            </button>
                        </div>
                    </div>
                </header>
            );
        }

        // Sidebar Component - Now as dropdown menu
        function Sidebar({ isOpen, topics, currentTopic, onSelectTopic, darkMode, language }) {
            if (!isOpen) return null;
            
            return (
                <div className={`fixed top-20 left-6 w-72 ${darkMode ? 'bg-dark-surface border-gray-700' : 'bg-white border-gray-200'} border-2 rounded-xl shadow-2xl z-[900] max-h-[80vh] overflow-y-auto animate-fade-in`}>
                    <nav className="p-4 space-y-2">
                        <h3 className="text-sm font-semibold opacity-60 mb-4 px-2">{language === 'en' ? 'TOPICS' : 'ä¸»é¡Œ'}</h3>
                        {topics.map((topic, index) => (
                            <button
                                key={topic.id}
                                onClick={() => onSelectTopic(topic.id)}
                                className={`w-full text-left px-4 py-3 rounded-lg transition-all flex items-center space-x-3 ${
                                    currentTopic === topic.id 
                                        ? 'text-white' 
                                        : 'hover:bg-opacity-10 hover:bg-bcg-green'
                                }`}
                                style={currentTopic === topic.id ? {backgroundColor: 'var(--bcg-green)'} : {}}
                            >
                                <span className="text-2xl">{topic.icon}</span>
                                <span className="text-sm font-medium flex-1">
                                    {language === 'en' ? `Topic ${index + 1}` : `ä¸»é¡Œ ${index + 1}`}: {topic.title}
                                </span>
                            </button>
                        ))}
                    </nav>
                </div>
            );
        }

        // Topic Header Component
        function TopicHeader({ topic, darkMode }) {
            return (
                <div className="mb-8 animate-fade-in-up">
                    <div className="flex items-center space-x-4 mb-4">
                        <span className="text-6xl">{topic.icon}</span>
                        <h2 className="text-4xl md:text-5xl font-bold display-font">{topic.title}</h2>
                    </div>
                    <p className="text-xl md:text-2xl opacity-80 italic">{topic.keyInsight}</p>
                </div>
            );
        }

        // Tab Navigation Component
        function TabNavigation({ tabs, currentTab, onTabChange, darkMode }) {
            return (
                <div className={`sticky top-20 z-40 flex space-x-2 mb-8 border-b ${darkMode ? 'border-gray-700 bg-dark-bg' : 'border-gray-300 bg-light-bg'} py-3 -mx-4 px-4 md:-mx-8 md:px-8 lg:-mx-16 lg:px-16 animate-fade-in-up stagger-1`}>
                    {tabs.map(tab => (
                        <button
                            key={tab.id}
                            onClick={() => onTabChange(tab.id)}
                            className={`px-6 py-3 font-medium transition-all rounded-t-lg ${
                                currentTab === tab.id
                                    ? 'border-b-2 text-accent bg-opacity-10'
                                    : 'opacity-60 hover:opacity-100 hover:bg-opacity-5 hover:bg-white'
                            }`}
                            style={currentTab === tab.id ? {borderColor: 'var(--accent)', backgroundColor: darkMode ? 'rgba(0, 191, 165, 0.1)' : 'rgba(0, 77, 64, 0.05)'} : {}}
                        >
                            {tab.name}
                        </button>
                    ))}
                </div>
            );
        }

        // Tab Content Component
        function TabContent({ tab, darkMode, language, topicId, quizResults, setQuizResults }) {
            if (!tab) return null;

            if (tab.id === 'overview') {
                return <OverviewTab content={tab.content} darkMode={darkMode} language={language} />;
            } else if (tab.id === 'core-concepts') {
                return <CoreConceptsTab content={tab.content} darkMode={darkMode} language={language} topicId={topicId} />;
            } else if (tab.id === 'flip-cards') {
                return <FlipCardsTab content={tab.content} darkMode={darkMode} />;
            } else if (tab.id === 'quiz') {
                return <QuizTab content={tab.content} darkMode={darkMode} language={language} topicId={topicId} quizResults={quizResults} setQuizResults={setQuizResults} />;
            }

            return null;
        }

        // Overview Tab Component
        function OverviewTab({ content, darkMode, language }) {
            const [isReading, setIsReading] = useState(false);
            const summaryRef = useRef(null);

            // Load voices
            useEffect(() => {
                const loadVoices = () => {
                    window.speechSynthesis.getVoices();
                };
                
                loadVoices();
                if (window.speechSynthesis.onvoiceschanged !== undefined) {
                    window.speechSynthesis.onvoiceschanged = loadVoices;
                }
            }, []);

            const handleTTS = () => {
                if (isReading) {
                    window.speechSynthesis.cancel();
                    setIsReading(false);
                    return;
                }

                const text = [
                    content.executiveSummary.title,
                    ...content.executiveSummary.points,
                    language === 'en' ? 'Learning Objectives:' : 'å­¸ç¿’ç›®æ¨™ï¼š',
                    ...content.executiveSummary.learningObjectives
                ].join('. ');

                const utterance = new SpeechSynthesisUtterance(text);
                
                // Better voice selection
                if (language === 'zh') {
                    utterance.lang = 'zh-TW';
                    utterance.rate = 0.85;
                    
                    const voices = window.speechSynthesis.getVoices();
                    const zhVoice = voices.find(voice => 
                        voice.lang.includes('zh-TW') || 
                        voice.lang.includes('zh-HK') ||
                        (voice.lang.includes('zh') && voice.name.includes('Taiwan'))
                    );
                    if (zhVoice) {
                        utterance.voice = zhVoice;
                    }
                } else {
                    utterance.lang = 'en-GB';
                    utterance.rate = 0.9;
                    
                    const voices = window.speechSynthesis.getVoices();
                    const enVoice = voices.find(voice => 
                        voice.lang.includes('en-GB') ||
                        voice.name.includes('British')
                    );
                    if (enVoice) {
                        utterance.voice = enVoice;
                    }
                }
                
                utterance.onend = () => setIsReading(false);
                
                window.speechSynthesis.speak(utterance);
                setIsReading(true);
            };

            return (
                <div className="animate-fade-in-up stagger-2" ref={summaryRef}>
                    <div className={`${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} rounded-xl p-8 shadow-lg mb-8`}>
                        <div className="flex justify-between items-center mb-6">
                            <h3 className="text-2xl font-bold display-font">{content.executiveSummary.title}</h3>
                            <button 
                                onClick={handleTTS}
                                className="p-3 rounded-lg hover:bg-opacity-10 hover:bg-white transition-all"
                                title={isReading ? (language === 'en' ? 'Stop' : 'åœæ­¢') : (language === 'en' ? 'Read Aloud' : 'æœ—è®€')}
                            >
                                {isReading ? 'â¸ï¸' : 'ğŸ”Š'}
                            </button>
                        </div>
                        
                        <div className="space-y-4 mb-8">
                            {content.executiveSummary.points.map((point, index) => (
                                <div key={index} className="flex items-start space-x-3">
                                    <span className="mt-1" style={{color: 'var(--accent)'}}>â–¸</span>
                                    <p className="flex-1 text-lg">{point}</p>
                                </div>
                            ))}
                        </div>

                        <div className={`pt-6 border-t ${darkMode ? 'border-gray-700' : 'border-gray-300'}`}>
                            <h4 className="font-semibold mb-4 text-lg">{language === 'en' ? 'Learning Objectives' : 'å­¸ç¿’ç›®æ¨™'}</h4>
                            <div className="grid md:grid-cols-2 gap-4">
                                {content.executiveSummary.learningObjectives.map((objective, index) => (
                                    <div key={index} className={`p-4 rounded-lg ${darkMode ? 'bg-black bg-opacity-30' : 'bg-gray-100'}`}>
                                        <div className="flex items-center space-x-2">
                                            <span className="text-2xl">ğŸ¯</span>
                                            <p>{objective}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Infographics Component
        function Infographic({ type, darkMode, language }) {
            const isEn = language === 'en';
            
            if (type === 'performance-sources') {
                return (
                    <svg viewBox="0 0 600 400" className="w-full h-auto">
                        <defs>
                            <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style={{stopColor: '#004d40', stopOpacity: 1}} />
                                <stop offset="100%" style={{stopColor: '#00bfa5', stopOpacity: 1}} />
                            </linearGradient>
                        </defs>
                        
                        {/* Title */}
                        <text x="300" y="40" textAnchor="middle" fontSize="24" fontWeight="bold" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Sources of Superior Performance' : 'å“è¶Šç¸¾æ•ˆçš„ä¾†æº'}
                        </text>
                        
                        {/* Pie Chart */}
                        <circle cx="300" cy="220" r="120" fill="none" stroke="#cfd8dc" strokeWidth="2"/>
                        
                        {/* Firm Effects - 45% */}
                        <path d="M 300 100 A 120 120 0 0 1 411.3 267.6 L 300 220 Z" fill="#004d40" opacity="0.9"/>
                        <text x="360" y="160" fontSize="16" fontWeight="bold" fill="#fff">45%</text>
                        <text x="350" y="180" fontSize="12" fill="#fff">{isEn ? 'Firm' : 'ä¼æ¥­'}</text>
                        <text x="345" y="195" fontSize="12" fill="#fff">{isEn ? 'Effects' : 'æ•ˆæ‡‰'}</text>
                        
                        {/* Luck/Year - 45% */}
                        <path d="M 300 220 L 411.3 267.6 A 120 120 0 0 1 188.7 267.6 Z" fill="#00bfa5" opacity="0.8"/>
                        <text x="290" y="300" fontSize="16" fontWeight="bold" fill="#263238">45%</text>
                        <text x="270" y="320" fontSize="12" fill="#263238">{isEn ? 'Luck/Year' : 'é‹æ°£/å¹´åº¦'}</text>
                        
                        {/* Industry - 10% */}
                        <path d="M 300 220 L 188.7 267.6 A 120 120 0 0 1 300 100 Z" fill="#546e7a" opacity="0.9"/>
                        <text x="220" y="180" fontSize="16" fontWeight="bold" fill="#fff">10%</text>
                        <text x="210" y="195" fontSize="12" fill="#fff">{isEn ? 'Industry' : 'ç”¢æ¥­'}</text>
                    </svg>
                );
            }
            
            if (type === 'vpc-framework') {
                return (
                    <svg viewBox="0 0 700 400" className="w-full h-auto">
                        <defs>
                            <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                                <polygon points="0 0, 10 3, 0 6" fill="#004d40" />
                            </marker>
                        </defs>
                        
                        {/* Title */}
                        <text x="350" y="40" textAnchor="middle" fontSize="24" fontWeight="bold" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Value-Price-Cost Framework' : 'åƒ¹å€¼-åƒ¹æ ¼-æˆæœ¬æ¶æ§‹'}
                        </text>
                        
                        {/* Vertical axis */}
                        <line x1="100" y1="100" x2="100" y2="350" stroke={darkMode ? '#eceff1' : '#263238'} strokeWidth="2" markerEnd="url(#arrowhead)"/>
                        
                        {/* Value (V) */}
                        <line x1="90" y1="120" x2="600" y2="120" stroke="#004d40" strokeWidth="3" strokeDasharray="5,5"/>
                        <text x="620" y="125" fontSize="18" fontWeight="bold" fill="#004d40">V</text>
                        <text x="120" y="115" fontSize="14" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Customer Willingness-to-Pay' : 'é¡§å®¢æ”¯ä»˜æ„é¡˜'}
                        </text>
                        
                        {/* Price (P) */}
                        <line x1="90" y1="220" x2="600" y2="220" stroke="#00bfa5" strokeWidth="3"/>
                        <text x="620" y="225" fontSize="18" fontWeight="bold" fill="#00bfa5">P</text>
                        <text x="120" y="215" fontSize="14" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Price' : 'åƒ¹æ ¼'}
                        </text>
                        
                        {/* Cost (C) */}
                        <line x1="90" y1="320" x2="600" y2="320" stroke="#546e7a" strokeWidth="3"/>
                        <text x="620" y="325" fontSize="18" fontWeight="bold" fill="#546e7a">C</text>
                        <text x="120" y="315" fontSize="14" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Cost' : 'æˆæœ¬'}
                        </text>
                        
                        {/* Consumer Surplus bracket */}
                        <path d="M 80 120 L 70 120 L 70 220 L 80 220" stroke="#004d40" fill="none" strokeWidth="2"/>
                        <text x="30" y="175" fontSize="14" fontWeight="bold" fill="#004d40">
                            {isEn ? 'Consumer' : 'æ¶ˆè²»è€…'}
                        </text>
                        <text x="35" y="190" fontSize="14" fontWeight="bold" fill="#004d40">
                            {isEn ? 'Surplus' : 'å‰©é¤˜'}
                        </text>
                        <text x="35" y="205" fontSize="12" fill="#004d40">(V-P)</text>
                        
                        {/* Producer Surplus bracket */}
                        <path d="M 80 220 L 70 220 L 70 320 L 80 320" stroke="#00bfa5" fill="none" strokeWidth="2"/>
                        <text x="30" y="265" fontSize="14" fontWeight="bold" fill="#00bfa5">
                            {isEn ? 'Producer' : 'ç”Ÿç”¢è€…'}
                        </text>
                        <text x="35" y="280" fontSize="14" fontWeight="bold" fill="#00bfa5">
                            {isEn ? 'Surplus' : 'å‰©é¤˜'}
                        </text>
                        <text x="35" y="295" fontSize="12" fill="#00bfa5">(P-C)</text>
                        
                        {/* Total Value Created */}
                        <path d="M 610 120 L 620 120 L 620 320 L 610 320" stroke="#004d40" fill="none" strokeWidth="2"/>
                        <text x="630" y="215" fontSize="14" fontWeight="bold" fill="#004d40">
                            {isEn ? 'Total Value' : 'ç¸½åƒ¹å€¼'}
                        </text>
                        <text x="640" y="235" fontSize="12" fill="#004d40">(V-C)</text>
                    </svg>
                );
            }
            
            if (type === 'strategy-types') {
                return (
                    <svg viewBox="0 0 700 400" className="w-full h-auto">
                        {/* Title */}
                        <text x="350" y="40" textAnchor="middle" fontSize="24" fontWeight="bold" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Corporate vs Business Strategy' : 'ä¼æ¥­ç­–ç•¥ vs äº‹æ¥­ç­–ç•¥'}
                        </text>
                        
                        {/* Corporate Strategy Box */}
                        <rect x="50" y="100" width="280" height="220" rx="10" fill="#004d40" opacity="0.9"/>
                        <text x="190" y="140" textAnchor="middle" fontSize="20" fontWeight="bold" fill="#fff">
                            {isEn ? 'Corporate Strategy' : 'ä¼æ¥­ç­–ç•¥'}
                        </text>
                        <text x="190" y="180" textAnchor="middle" fontSize="16" fill="#fff">
                            {isEn ? 'WHERE to compete?' : 'åœ¨å“ªç«¶çˆ­ï¼Ÿ'}
                        </text>
                        <text x="80" y="220" fontSize="13" fill="#eceff1">â€¢ {isEn ? 'Which industries?' : 'å“ªäº›ç”¢æ¥­ï¼Ÿ'}</text>
                        <text x="80" y="245" fontSize="13" fill="#eceff1">â€¢ {isEn ? 'Which markets?' : 'å“ªäº›å¸‚å ´ï¼Ÿ'}</text>
                        <text x="80" y="270" fontSize="13" fill="#eceff1">â€¢ {isEn ? 'Portfolio decisions' : 'æŠ•è³‡çµ„åˆæ±ºç­–'}</text>
                        <text x="80" y="295" fontSize="13" fill="#eceff1">â€¢ {isEn ? 'Resource allocation' : 'è³‡æºé…ç½®'}</text>
                        
                        {/* Business Strategy Box */}
                        <rect x="370" y="100" width="280" height="220" rx="10" fill="#00bfa5" opacity="0.9"/>
                        <text x="510" y="140" textAnchor="middle" fontSize="20" fontWeight="bold" fill="#263238">
                            {isEn ? 'Business Strategy' : 'äº‹æ¥­ç­–ç•¥'}
                        </text>
                        <text x="510" y="180" textAnchor="middle" fontSize="16" fill="#263238">
                            {isEn ? 'HOW to compete?' : 'å¦‚ä½•ç«¶çˆ­ï¼Ÿ'}
                        </text>
                        <text x="400" y="220" fontSize="13" fill="#263238">â€¢ {isEn ? 'Competitive positioning' : 'ç«¶çˆ­å®šä½'}</text>
                        <text x="400" y="245" fontSize="13" fill="#263238">â€¢ {isEn ? 'Value proposition' : 'åƒ¹å€¼ä¸»å¼µ'}</text>
                        <text x="400" y="270" fontSize="13" fill="#263238">â€¢ {isEn ? 'Cost vs differentiation' : 'æˆæœ¬ vs å·®ç•°åŒ–'}</text>
                        <text x="400" y="295" fontSize="13" fill="#263238">â€¢ {isEn ? 'Competitive advantage' : 'ç«¶çˆ­å„ªå‹¢'}</text>
                    </svg>
                );
            }
            
            if (type === 'business-model-canvas') {
                return (
                    <svg viewBox="0 0 900 500" className="w-full h-auto">
                        {/* Title */}
                        <text x="450" y="35" textAnchor="middle" fontSize="22" fontWeight="bold" fill={darkMode ? '#eceff1' : '#263238'}>
                            {isEn ? 'Business Model Canvas' : 'å•†æ¥­æ¨¡å¼åœ–'}
                        </text>
                        
                        {/* Grid layout */}
                        {/* Key Partners */}
                        <rect x="50" y="70" width="140" height="180" fill="#004d40" opacity="0.8" rx="5"/>
                        <text x="120" y="95" textAnchor="middle" fontSize="12" fontWeight="bold" fill="#fff">
                            {isEn ? 'Key Partners' : 'é—œéµå¤¥ä¼´'}
                        </text>
                        
                        {/* Key Activities */}
                        <rect x="200" y="70" width="140" height="85" fill="#00695c" opacity="0.8" rx="5"/>
                        <text x="270" y="90" textAnchor="middle" fontSize="11" fontWeight="bold" fill="#fff">
                            {isEn ? 'Key Activities' : 'é—œéµæ´»å‹•'}
                        </text>
                        
                        {/* Key Resources */}
                        <rect x="200" y="165" width="140" height="85" fill="#00695c" opacity="0.8" rx="5"/>
                        <text x="270" y="185" textAnchor="middle" fontSize="11" fontWeight="bold" fill="#fff">
                            {isEn ? 'Key Resources' : 'é—œéµè³‡æº'}
                        </text>
                        
                        {/* Value Propositions */}
                        <rect x="350" y="70" width="140" height="180" fill="#00bfa5" opacity="0.9" rx="5"/>
                        <text x="420" y="95" textAnchor="middle" fontSize="12" fontWeight="bold" fill="#263238">
                            {isEn ? 'Value' : 'åƒ¹å€¼'}
                        </text>
                        <text x="420" y="110" textAnchor="middle" fontSize="12" fontWeight="bold" fill="#263238">
                            {isEn ? 'Propositions' : 'ä¸»å¼µ'}
                        </text>
                        
                        {/* Customer Relationships */}
                        <rect x="500" y="70" width="140" height="85" fill="#00897b" opacity="0.8" rx="5"/>
                        <text x="570" y="90" textAnchor="middle" fontSize="11" fontWeight="bold" fill="#fff">
                            {isEn ? 'Customer' : 'é¡§å®¢'}
                        </text>
                        <text x="570" y="105" textAnchor="middle" fontSize="11" fontWeight="bold" fill="#fff">
                            {isEn ? 'Relationships' : 'é—œä¿‚'}
                        </text>
                        
                        {/* Channels */}
                        <rect x="500" y="165" width="140" height="85" fill="#00897b" opacity="0.8" rx="5"/>
                        <text x="570" y="185" textAnchor="middle" fontSize="11" fontWeight="bold" fill="#fff">
                            {isEn ? 'Channels' : 'é€šè·¯'}
                        </text>
                        
                        {/* Customer Segments */}
                        <rect x="650" y="70" width="140" height="180" fill="#004d40" opacity="0.8" rx="5"/>
                        <text x="720" y="95" textAnchor="middle" fontSize="12" fontWeight="bold" fill="#fff">
                            {isEn ? 'Customer' : 'ç›®æ¨™'}
                        </text>
                        <text x="720" y="110" textAnchor="middle" fontSize="12" fontWeight="bold" fill="#fff">
                            {isEn ? 'Segments' : 'å®¢å±¤'}
                        </text>
                        
                        {/* Cost Structure */}
                        <rect x="50" y="270" width="390" height="150" fill="#546e7a" opacity="0.8" rx="5"/>
                        <text x="245" y="295" textAnchor="middle" fontSize="13" fontWeight="bold" fill="#fff">
                            {isEn ? 'Cost Structure' : 'æˆæœ¬çµæ§‹'}
                        </text>
                        
                        {/* Revenue Streams */}
                        <rect x="450" y="270" width="340" height="150" fill="#00bfa5" opacity="0.8" rx="5"/>
                        <text x="620" y="295" textAnchor="middle" fontSize="13" fontWeight="bold" fill="#263238">
                            {isEn ? 'Revenue Streams' : 'æ”¶ç›Šæµ'}
                        </text>
                    </svg>
                );
            }
            
            return null;
        }

        // Core Concepts Tab Component
        function CoreConceptsTab({ content, darkMode, language, topicId }) {
            const [expandedGlossary, setExpandedGlossary] = useState({});
            const [isReading, setIsReading] = useState(false);
            const [readingSection, setReadingSection] = useState(null);

            // Load voices
            useEffect(() => {
                const loadVoices = () => {
                    window.speechSynthesis.getVoices();
                };
                
                loadVoices();
                if (window.speechSynthesis.onvoiceschanged !== undefined) {
                    window.speechSynthesis.onvoiceschanged = loadVoices;
                }
            }, []);

            const toggleGlossary = (sectionIndex, termIndex) => {
                const key = `${sectionIndex}-${termIndex}`;
                setExpandedGlossary(prev => ({...prev, [key]: !prev[key]}));
            };

            const handleSectionTTS = (section, sectionIndex) => {
                if (isReading && readingSection === sectionIndex) {
                    window.speechSynthesis.cancel();
                    setIsReading(false);
                    setReadingSection(null);
                    return;
                }

                window.speechSynthesis.cancel();
                
                const text = `${section.title}. ${section.content}`;
                const utterance = new SpeechSynthesisUtterance(text);
                
                // Better voice selection for Traditional Chinese
                if (language === 'zh') {
                    utterance.lang = 'zh-TW';
                    utterance.rate = 0.85; // Slightly slower for better clarity
                    
                    // Try to get better Chinese voice
                    const voices = window.speechSynthesis.getVoices();
                    const zhVoice = voices.find(voice => 
                        voice.lang.includes('zh-TW') || 
                        voice.lang.includes('zh-HK') ||
                        (voice.lang.includes('zh') && voice.name.includes('Taiwan'))
                    );
                    if (zhVoice) {
                        utterance.voice = zhVoice;
                    }
                } else {
                    utterance.lang = 'en-GB';
                    utterance.rate = 0.9;
                    
                    // Try to get British English voice
                    const voices = window.speechSynthesis.getVoices();
                    const enVoice = voices.find(voice => 
                        voice.lang.includes('en-GB') ||
                        voice.name.includes('British')
                    );
                    if (enVoice) {
                        utterance.voice = enVoice;
                    }
                }
                
                utterance.onend = () => {
                    setIsReading(false);
                    setReadingSection(null);
                };
                
                window.speechSynthesis.speak(utterance);
                setIsReading(true);
                setReadingSection(sectionIndex);
            };

            // Determine which infographics to show based on topic
            const infographics = [];
            if (topicId === 1) {
                infographics.push(
                    { type: 'performance-sources', title: language === 'en' ? 'Sources of Performance' : 'ç¸¾æ•ˆä¾†æº' },
                    { type: 'strategy-types', title: language === 'en' ? 'Strategy Types' : 'ç­–ç•¥é¡å‹' }
                );
            } else if (topicId === 2) {
                infographics.push(
                    { type: 'vpc-framework', title: language === 'en' ? 'V-P-C Framework' : 'V-P-C æ¶æ§‹' },
                    { type: 'business-model-canvas', title: language === 'en' ? 'Business Model Canvas' : 'å•†æ¥­æ¨¡å¼åœ–' }
                );
            }

            return (
                <div className="space-y-8 animate-fade-in-up stagger-2">
                    {/* Infographics Section */}
                    {infographics.length > 0 && (
                        <div className={`${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} rounded-xl p-8 shadow-lg bcg-card`}>
                            <h3 className="text-2xl font-bold display-font mb-6 flex items-center" style={{color: 'var(--bcg-green)'}}>
                                <span className="mr-3">ğŸ“Š</span>
                                {language === 'en' ? 'Visual Framework' : 'è¦–è¦ºåŒ–æ¶æ§‹'}
                            </h3>
                            <div className="grid md:grid-cols-2 gap-6">
                                {infographics.map((info, index) => (
                                    <div key={index} className={`p-4 rounded-lg ${darkMode ? 'bg-black bg-opacity-20' : 'bg-gray-50'}`}>
                                        <h4 className="text-center font-semibold mb-4 opacity-80">{info.title}</h4>
                                        <Infographic type={info.type} darkMode={darkMode} language={language} />
                                    </div>
                                ))}
                            </div>
                        </div>
                    )}

                    {/* Content Sections */}
                    {content.sections.map((section, sectionIndex) => (
                        <div key={sectionIndex} className={`${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} rounded-xl p-8 shadow-lg`}>
                            <div className="flex justify-between items-start mb-6">
                                <h3 className="text-2xl font-bold display-font mb-4">{section.title}</h3>
                                <button 
                                    onClick={() => handleSectionTTS(section, sectionIndex)}
                                    className="p-2 rounded-lg hover:bg-opacity-10 hover:bg-white transition-all"
                                    title={isReading && readingSection === sectionIndex ? (language === 'en' ? 'Stop' : 'åœæ­¢') : (language === 'en' ? 'Read Aloud' : 'æœ—è®€')}
                                >
                                    {isReading && readingSection === sectionIndex ? 'â¸ï¸' : 'ğŸ”Š'}
                                </button>
                            </div>
                            
                            <p className={`text-lg leading-relaxed mb-6 ${isReading && readingSection === sectionIndex ? 'reading-highlight' : ''}`}>
                                {section.content}
                            </p>

                            {section.practicalLinks && section.practicalLinks.length > 0 && (
                                <div className="mb-6">
                                    <h4 className="font-semibold mb-3 opacity-80 flex items-center">
                                        <span className="mr-2">ğŸ”—</span>
                                        {language === 'en' ? 'Practical Cases & Resources' : 'å¯¦å‹™å€‹æ¡ˆèˆ‡è³‡æº'}
                                    </h4>
                                    <div className="grid md:grid-cols-2 gap-3">
                                        {section.practicalLinks.map((link, linkIndex) => {
                                            const getMediaIcon = (type) => {
                                                switch(type) {
                                                    case 'video': return 'ğŸ¥';
                                                    case 'podcast': return 'ğŸ™ï¸';
                                                    case 'article': 
                                                    default: return 'ğŸ“„';
                                                }
                                            };
                                            
                                            return (
                                                <a
                                                    key={linkIndex}
                                                    href={link.url}
                                                    target="_blank"
                                                    rel="noopener noreferrer"
                                                    className={`p-4 rounded-lg border-2 transition-all hover:scale-105 bcg-card ${
                                                        darkMode ? 'bg-black bg-opacity-30 border-gray-700 hover:border-bcg-accent' : 'bg-gray-50 border-gray-300 hover:border-bcg-accent'
                                                    }`}
                                                >
                                                    <div className="flex items-start justify-between">
                                                        <div className="flex-1">
                                                            <div className="flex items-center mb-2">
                                                                <span className="text-xl mr-2">{getMediaIcon(link.type)}</span>
                                                                <span className={`text-xs px-2 py-1 rounded ${
                                                                    link.type === 'video' ? 'bg-red-500 bg-opacity-20 text-red-400' :
                                                                    link.type === 'podcast' ? 'bg-purple-500 bg-opacity-20 text-purple-400' :
                                                                    'bg-blue-500 bg-opacity-20 text-blue-400'
                                                                }`}>
                                                                    {link.type || 'article'}
                                                                </span>
                                                            </div>
                                                            <p className="font-medium mb-1">{link.title}</p>
                                                            <p className="text-sm opacity-60">{link.source}</p>
                                                        </div>
                                                        <span className="text-xl ml-2" style={{color: 'var(--bcg-accent)'}}>â†—</span>
                                                    </div>
                                                </a>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}

                            {section.glossary && section.glossary.length > 0 && (
                                <div className="mt-6">
                                    <h4 className="font-semibold mb-4 opacity-80">{language === 'en' ? 'ğŸ“š Key Terms' : 'ğŸ“š é‡è¦åè©'}</h4>
                                    <div className="space-y-2">
                                        {section.glossary.map((item, termIndex) => {
                                            const key = `${sectionIndex}-${termIndex}`;
                                            const isExpanded = expandedGlossary[key];
                                            
                                            return (
                                                <div key={termIndex} className={`${darkMode ? 'bg-black bg-opacity-30' : 'bg-gray-100'} rounded-lg overflow-hidden`}>
                                                    <button
                                                        onClick={() => toggleGlossary(sectionIndex, termIndex)}
                                                        className="w-full px-4 py-3 flex justify-between items-center hover:bg-opacity-50 hover:bg-white transition-all"
                                                    >
                                                        <span className="font-medium">{item.term}</span>
                                                        <span className="text-xl">{isExpanded ? 'âˆ’' : '+'}</span>
                                                    </button>
                                                    {isExpanded && (
                                                        <div className="px-4 pb-3 glossary-item" style={{maxHeight: '200px'}}>
                                                            <p className="opacity-80">{item.definition}</p>
                                                        </div>
                                                    )}
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            )}
                        </div>
                    ))}
                </div>
            );
        }

        // Flip Cards Tab Component
        function FlipCardsTab({ content, darkMode }) {
            const [flippedCards, setFlippedCards] = useState({});

            const toggleCard = (index) => {
                setFlippedCards(prev => ({...prev, [index]: !prev[index]}));
            };

            return (
                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fade-in-up stagger-2">
                    {content.cards.map((card, index) => (
                        <div
                            key={index}
                            className={`flip-card h-64 ${flippedCards[index] ? 'flipped' : ''}`}
                            onClick={() => toggleCard(index)}
                        >
                            <div className="flip-card-inner">
                                <div 
                                    className={`flip-card-front ${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} shadow-lg`}
                                    style={{border: '2px solid var(--bcg-green)'}}
                                >
                                    <div className="text-center">
                                        <div className="text-4xl mb-4">â“</div>
                                        <p className="text-lg font-semibold">{card.front}</p>
                                    </div>
                                </div>
                                <div 
                                    className={`flip-card-back shadow-lg text-white`}
                                    style={{backgroundColor: 'var(--bcg-green)'}}
                                >
                                    <div className="text-center">
                                        <div className="text-4xl mb-4">ğŸ’¡</div>
                                        <p className="text-base">{card.back}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    ))}
                </div>
            );
        }

        // Quiz Tab Component
        function QuizTab({ content, darkMode, language, topicId, quizResults, setQuizResults }) {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [selectedAnswer, setSelectedAnswer] = useState(null);
            const [showResult, setShowResult] = useState(false);
            const [score, setScore] = useState(0);
            const [answeredQuestions, setAnsweredQuestions] = useState([]);

            const question = content.questions[currentQuestion];

            const handleAnswer = (optionIndex) => {
                if (showResult) return;
                
                setSelectedAnswer(optionIndex);
                setShowResult(true);
                
                const isCorrect = optionIndex === question.correct;
                if (isCorrect) {
                    setScore(score + 1);
                }
                
                setAnsweredQuestions([...answeredQuestions, {
                    question: currentQuestion,
                    correct: isCorrect
                }]);
            };

            const handleNext = () => {
                if (currentQuestion < content.questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                    setShowResult(false);
                } else {
                    const result = {
                        score,
                        total: content.questions.length,
                        date: new Date().toISOString()
                    };
                    setQuizResults({...quizResults, [topicId]: result});
                }
            };

            const handleReset = () => {
                setCurrentQuestion(0);
                setSelectedAnswer(null);
                setShowResult(false);
                setScore(0);
                setAnsweredQuestions([]);
            };

            const showNextTwo = currentQuestion < content.questions.length - 2;

            if (currentQuestion >= content.questions.length) {
                return (
                    <div className={`${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} rounded-xl p-8 shadow-lg animate-fade-in-up text-center`}>
                        <div className="text-6xl mb-6">ğŸ‰</div>
                        <h3 className="text-3xl font-bold mb-4">{language === 'en' ? 'Quiz Complete!' : 'æ¸¬é©—å®Œæˆï¼'}</h3>
                        <p className="text-2xl mb-8">
                            {language === 'en' ? 'Your Score:' : 'æ‚¨çš„åˆ†æ•¸ï¼š'} 
                            <span className="font-bold ml-2" style={{color: 'var(--accent)'}}>{score}/{content.questions.length}</span>
                        </p>
                        <button
                            onClick={handleReset}
                            className="px-8 py-3 rounded-lg text-white font-semibold hover:opacity-90 transition-all"
                            style={{backgroundColor: 'var(--bcg-green)'}}
                        >
                            {language === 'en' ? 'Try Again' : 'å†è©¦ä¸€æ¬¡'}
                        </button>
                    </div>
                );
            }

            return (
                <div className="animate-fade-in-up stagger-2">
                    <div className={`${darkMode ? 'bg-dark-surface' : 'bg-light-surface'} rounded-xl p-8 shadow-lg mb-6`}>
                        <div className="flex justify-between items-center mb-6">
                            <span className="text-sm opacity-60">
                                {language === 'en' ? 'Question' : 'é¡Œç›®'} {currentQuestion + 1} / {content.questions.length}
                            </span>
                            <span className="text-sm opacity-60">
                                {language === 'en' ? 'Score:' : 'åˆ†æ•¸ï¼š'} {score}
                            </span>
                        </div>

                        <div className="mb-4 h-2 bg-gray-700 rounded-full overflow-hidden">
                            <div 
                                className="progress-bar h-full transition-all duration-500"
                                style={{
                                    width: `${((currentQuestion + 1) / content.questions.length) * 100}%`,
                                    backgroundColor: 'var(--accent)'
                                }}
                            />
                        </div>

                        <h3 className="text-xl md:text-2xl font-semibold mb-8">{question.question}</h3>

                        <div className="space-y-3">
                            {question.options.map((option, index) => {
                                let buttonClass = `quiz-option w-full text-left px-6 py-4 rounded-lg border-2 transition-all ${
                                    darkMode ? 'border-gray-700' : 'border-gray-300'
                                }`;
                                
                                if (showResult) {
                                    if (index === question.correct) {
                                        buttonClass += ' correct';
                                    } else if (index === selectedAnswer && index !== question.correct) {
                                        buttonClass += ' incorrect';
                                    }
                                }

                                return (
                                    <button
                                        key={index}
                                        onClick={() => handleAnswer(index)}
                                        disabled={showResult}
                                        className={buttonClass}
                                    >
                                        <span className="font-medium">{String.fromCharCode(65 + index)}.</span> {option}
                                    </button>
                                );
                            })}
                        </div>

                        {showResult && (
                            <div className="mt-6 flex justify-center space-x-4">
                                {showNextTwo && (
                                    <button
                                        onClick={() => {
                                            handleNext();
                                            setTimeout(handleNext, 100);
                                        }}
                                        className="px-6 py-3 rounded-lg border-2 font-semibold hover:opacity-90 transition-all"
                                        style={{borderColor: 'var(--bcg-green)', color: 'var(--bcg-green)'}}
                                    >
                                        {language === 'en' ? 'Show Next Two' : 'é¡¯ç¤ºä¸‹å…©é¡Œ'}
                                    </button>
                                )}
                                <button
                                    onClick={handleNext}
                                    className="px-6 py-3 rounded-lg text-white font-semibold hover:opacity-90 transition-all"
                                    style={{backgroundColor: 'var(--bcg-green)'}}
                                >
                                    {currentQuestion < content.questions.length - 1 
                                        ? (language === 'en' ? 'Next Question' : 'ä¸‹ä¸€é¡Œ')
                                        : (language === 'en' ? 'Finish' : 'å®Œæˆ')
                                    }
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // Dashboard Component
        function Dashboard({ onClose, progress, quizResults, darkMode, language }) {
            const [userInfo, setUserInfo] = useState({
                group: '',
                major: '',
                name: ''
            });

            const handleExport = () => {
                if (!userInfo.group || !userInfo.major || !userInfo.name) {
                    alert(language === 'en' 
                        ? 'Please fill in all user information before exporting.' 
                        : 'è«‹å…ˆå¡«å¯«æ‰€æœ‰ä½¿ç”¨è€…è³‡è¨Šå†åŒ¯å‡ºã€‚');
                    return;
                }

                const csvContent = [
                    ['Group', 'Major', 'Student Name', 'Topic', 'Score', 'Total', 'Percentage', 'Date'],
                    ...Object.entries(quizResults).map(([topicId, result]) => [
                        userInfo.group,
                        userInfo.major,
                        userInfo.name,
                        `Topic ${topicId}`,
                        result.score,
                        result.total,
                        `${((result.score / result.total) * 100).toFixed(1)}%`,
                        new Date(result.date).toLocaleDateString()
                    ])
                ].map(row => row.join(',')).join('\n');

                const blob = new Blob(['\ufeff' + csvContent], { type: 'text/csv;charset=utf-8;' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `SMMC_${userInfo.group}_${userInfo.major}_${userInfo.name.replace(/\s+/g, '_')}.csv`;
                a.click();
            };

            return (
                <div className="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm">
                    <div className={`${darkMode ? 'bg-dark-surface border-2 border-gray-700' : 'bg-white border-2 border-gray-200'} rounded-xl p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl`}>
                        <div className="flex justify-between items-center mb-6 pb-4 border-b" style={{borderColor: darkMode ? '#374151' : '#e5e7eb'}}>
                            <h2 className="text-3xl font-bold display-font flex items-center" style={{color: darkMode ? '#00bfa5' : '#004d40'}}>
                                ğŸ“Š {language === 'en' ? 'Learning Dashboard' : 'å­¸ç¿’å„€è¡¨æ¿'}
                            </h2>
                            <button onClick={onClose} className="text-3xl hover:opacity-70 transition-all" style={{color: darkMode ? '#00bfa5' : '#004d40'}}>Ã—</button>
                        </div>

                        {/* User Information Section */}
                        <div className="mb-8">
                            <h3 className="text-xl font-semibold mb-4 flex items-center">
                                <span className="mr-2">ğŸ‘¤</span>
                                {language === 'en' ? 'Student Information' : 'å­¸ç”Ÿè³‡è¨Š'}
                            </h3>
                            <div className="grid md:grid-cols-3 gap-4">
                                <div>
                                    <label className="block text-sm font-medium mb-2 opacity-80">
                                        {language === 'en' ? 'Group' : 'çµ„åˆ¥'}
                                    </label>
                                    <select
                                        value={userInfo.group}
                                        onChange={(e) => setUserInfo({...userInfo, group: e.target.value})}
                                        className={`w-full px-4 py-3 rounded-lg border-2 ${
                                            darkMode ? 'bg-dark-bg border-gray-600 text-white' : 'bg-white border-gray-300 text-gray-900'
                                        } focus:outline-none focus:border-bcg-accent`}
                                    >
                                        <option value="">{language === 'en' ? 'Select Group' : 'é¸æ“‡çµ„åˆ¥'}</option>
                                        <option value="G1">G1</option>
                                        <option value="G2">G2</option>
                                        <option value="G3">G3</option>
                                        <option value="G4">G4</option>
                                        <option value="G5">G5</option>
                                        <option value="G6">G6</option>
                                    </select>
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2 opacity-80">
                                        {language === 'en' ? 'Major/Year' : 'ç³»ç´š'}
                                    </label>
                                    <input
                                        type="text"
                                        value={userInfo.major}
                                        onChange={(e) => setUserInfo({...userInfo, major: e.target.value})}
                                        placeholder="e.g., IPCM3"
                                        className={`w-full px-4 py-3 rounded-lg border-2 ${
                                            darkMode ? 'bg-dark-bg border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'
                                        } focus:outline-none focus:border-bcg-accent`}
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-medium mb-2 opacity-80">
                                        {language === 'en' ? 'Name' : 'å§“å'}
                                    </label>
                                    <input
                                        type="text"
                                        value={userInfo.name}
                                        onChange={(e) => setUserInfo({...userInfo, name: e.target.value})}
                                        placeholder="e.g., Jeremy Wang"
                                        className={`w-full px-4 py-3 rounded-lg border-2 ${
                                            darkMode ? 'bg-dark-bg border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'
                                        } focus:outline-none focus:border-bcg-accent`}
                                    />
                                </div>
                            </div>
                        </div>

                        {/* Quiz Results Section */}
                        <div className="mb-8">
                            <h3 className="text-xl font-semibold mb-4 flex items-center">
                                <span className="mr-2">ğŸ“ˆ</span>
                                {language === 'en' ? 'Quiz Results' : 'æ¸¬é©—æˆç¸¾'}
                            </h3>
                            {Object.keys(quizResults).length === 0 ? (
                                <div className={`p-6 rounded-lg text-center ${darkMode ? 'bg-dark-bg border border-gray-700' : 'bg-gray-50 border border-gray-200'}`}>
                                    <p className="opacity-60">{language === 'en' ? 'No quiz results yet. Complete a quiz to see your progress!' : 'å°šç„¡æ¸¬é©—æˆç¸¾ã€‚å®Œæˆæ¸¬é©—ä»¥æŸ¥çœ‹æ‚¨çš„é€²åº¦ï¼'}</p>
                                </div>
                            ) : (
                                <div className="space-y-4">
                                    {Object.entries(quizResults).map(([topicId, result]) => {
                                        const percentage = (result.score / result.total) * 100;
                                        return (
                                            <div key={topicId} className={`p-5 rounded-lg bcg-card ${darkMode ? 'bg-dark-bg border border-gray-700' : 'bg-white border border-gray-200'}`}>
                                                <div className="flex justify-between items-center mb-3">
                                                    <span className="font-semibold text-lg">
                                                        {language === 'en' ? 'Topic' : 'ä¸»é¡Œ'} {topicId}
                                                    </span>
                                                    <div className="text-right">
                                                        <span className="font-bold text-xl" style={{color: 'var(--bcg-accent)'}}>
                                                            {result.score}/{result.total}
                                                        </span>
                                                        <span className="ml-2 text-sm opacity-70">
                                                            ({percentage.toFixed(0)}%)
                                                        </span>
                                                    </div>
                                                </div>
                                                <div className="h-3 bg-gray-700 rounded-full overflow-hidden">
                                                    <div 
                                                        className="h-full transition-all duration-500"
                                                        style={{
                                                            width: `${percentage}%`,
                                                            backgroundColor: percentage >= 70 ? 'var(--bcg-accent)' : percentage >= 50 ? '#ffa726' : '#ef5350'
                                                        }}
                                                    />
                                                </div>
                                                <p className="text-xs opacity-60 mt-2">
                                                    {new Date(result.date).toLocaleDateString()} {new Date(result.date).toLocaleTimeString()}
                                                </p>
                                            </div>
                                        );
                                    })}
                                </div>
                            )}
                        </div>

                        {Object.keys(quizResults).length > 0 && (
                            <div className="flex justify-center">
                                <button
                                    onClick={handleExport}
                                    disabled={!userInfo.group || !userInfo.major || !userInfo.name}
                                    className="px-8 py-4 rounded-lg text-white font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg"
                                    style={{backgroundColor: 'var(--bcg-green)'}}
                                >
                                    <span className="mr-2">ğŸ“¥</span>
                                    {language === 'en' ? 'Export Learning Record (CSV)' : 'åŒ¯å‡ºå­¸ç¿’ç´€éŒ„ (CSV)'}
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // AI Assistant Component
        function AIAssistant({ onClose, darkMode, language, courseData }) {
            const [messages, setMessages] = useState([
                {
                    role: 'assistant',
                    content: language === 'en' 
                        ? 'Hello! I\'m your AI Teaching Assistant. I can help you understand concepts from the course materials. What would you like to know?'
                        : 'æ‚¨å¥½ï¼æˆ‘æ˜¯æ‚¨çš„ AI åŠ©æ•™ã€‚æˆ‘å¯ä»¥å¹«åŠ©æ‚¨ç†è§£èª²ç¨‹è³‡æ–™ä¸­çš„æ¦‚å¿µã€‚æ‚¨æƒ³äº†è§£ä»€éº¼ï¼Ÿ'
                }
            ]);
            const [input, setInput] = useState('');
            const [isTyping, setIsTyping] = useState(false);

            const handleSend = useCallback(() => {
                const trimmedInput = input.trim();
                if (!trimmedInput) return;

                console.log('Sending message:', trimmedInput); // Debug log

                const userInput = trimmedInput;
                const userMessage = { role: 'user', content: userInput };
                
                setMessages(prev => [...prev, userMessage]);
                setInput('');
                setIsTyping(true);

                // Simple keyword matching for demo purposes
                setTimeout(() => {
                    const lowerInput = userInput.toLowerCase();
                    let response = language === 'en'
                        ? 'I can help you with concepts related to strategy, governance, value creation, and business models. Could you be more specific?'
                        : 'æˆ‘å¯ä»¥å¹«åŠ©æ‚¨ç†è§£èˆ‡ç­–ç•¥ã€æ²»ç†ã€åƒ¹å€¼å‰µé€ å’Œå•†æ¥­æ¨¡å¼ç›¸é—œçš„æ¦‚å¿µã€‚æ‚¨èƒ½æ›´å…·é«”èªªæ˜å—ï¼Ÿ';

                    if (lowerInput.includes('strategy') || lowerInput.includes('ç­–ç•¥')) {
                        response = language === 'en'
                            ? 'Strategy is the quest for superior performance through sustainable competitive advantage. It involves both corporate strategy (where to compete) and business strategy (how to compete). Corporate strategy determines which industries and markets to enter, while business strategy focuses on how to achieve competitive advantage within chosen markets.'
                            : 'ç­–ç•¥æ˜¯é€éå¯æŒçºŒç«¶çˆ­å„ªå‹¢è¿½æ±‚å“è¶Šç¸¾æ•ˆçš„éç¨‹ã€‚å®ƒåŒ…æ‹¬ä¼æ¥­ç­–ç•¥ï¼ˆåœ¨å“ªç«¶çˆ­ï¼‰å’Œäº‹æ¥­ç­–ç•¥ï¼ˆå¦‚ä½•ç«¶çˆ­ï¼‰ã€‚ä¼æ¥­ç­–ç•¥æ±ºå®šé€²å…¥å“ªäº›ç”¢æ¥­å’Œå¸‚å ´ï¼Œè€Œäº‹æ¥­ç­–ç•¥å°ˆæ³¨æ–¼å¦‚ä½•åœ¨é¸å®šå¸‚å ´ä¸­é”æˆç«¶çˆ­å„ªå‹¢ã€‚';
                    } else if (lowerInput.includes('governance') || lowerInput.includes('æ²»ç†')) {
                        response = language === 'en'
                            ? 'Corporate governance involves mechanisms to align management decisions with stakeholder interests. It includes internal mechanisms (board of directors, executive compensation, ownership structure) and external mechanisms (market for corporate control, legal/regulatory framework, product market competition).'
                            : 'å…¬å¸æ²»ç†æ¶‰åŠä½¿ç®¡ç†æ±ºç­–èˆ‡åˆ©å®³é—œä¿‚äººåˆ©ç›Šä¸€è‡´çš„æ©Ÿåˆ¶ã€‚å®ƒåŒ…æ‹¬å…§éƒ¨æ©Ÿåˆ¶ï¼ˆè‘£äº‹æœƒã€é«˜éšä¸»ç®¡è–ªé…¬ã€æ‰€æœ‰æ¬Šçµæ§‹ï¼‰å’Œå¤–éƒ¨æ©Ÿåˆ¶ï¼ˆä¼æ¥­æ§åˆ¶æ¬Šå¸‚å ´ã€æ³•å¾‹ï¼ç›£ç®¡æ¶æ§‹ã€ç”¢å“å¸‚å ´ç«¶çˆ­ï¼‰ã€‚';
                    } else if (lowerInput.includes('vpc') || lowerInput.includes('value') || lowerInput.includes('åƒ¹å€¼') || lowerInput.includes('wtp') || lowerInput.includes('é¡˜ä»˜')) {
                        response = language === 'en'
                            ? 'The V-P-C framework analyzes value creation (V-C) and value capture. V is willingness-to-pay (WTP), P is price, C is cost. Consumer surplus = V-P (what customers gain), Producer surplus = P-C (firm profit). Total value created = V-C.'
                            : 'V-P-Cæ¶æ§‹åˆ†æåƒ¹å€¼å‰µé€ ï¼ˆV-Cï¼‰å’Œåƒ¹å€¼æ“·å–ã€‚Væ˜¯é¡˜ä»˜åƒ¹æ ¼ï¼ˆWTPï¼‰ï¼ŒPæ˜¯åƒ¹æ ¼ï¼ŒCæ˜¯æˆæœ¬ã€‚æ¶ˆè²»è€…å‰©é¤˜ = V-Pï¼ˆé¡§å®¢ç²å¾—çš„åƒ¹å€¼ï¼‰ï¼Œç”Ÿç”¢è€…å‰©é¤˜ = P-Cï¼ˆä¼æ¥­åˆ©æ½¤ï¼‰ã€‚ç¸½å‰µé€ åƒ¹å€¼ = V-Cã€‚';
                    } else if (lowerInput.includes('business model') || lowerInput.includes('å•†æ¥­æ¨¡å¼')) {
                        response = language === 'en'
                            ? 'The Business Model Canvas consists of 9 building blocks: customer segments, value propositions, channels, customer relationships, revenue streams, key resources, key activities, key partnerships, and cost structure. It helps visualize how organizations create, deliver, and capture value.'
                            : 'å•†æ¥­æ¨¡å¼åœ–åŒ…å« 9 å€‹æ§‹æˆè¦ç´ ï¼šç›®æ¨™å®¢å±¤ã€åƒ¹å€¼ä¸»å¼µã€é€šè·¯ã€é¡§å®¢é—œä¿‚ã€æ”¶ç›Šæµã€é—œéµè³‡æºã€é—œéµæ´»å‹•ã€é—œéµå¤¥ä¼´å’Œæˆæœ¬çµæ§‹ã€‚å®ƒæœ‰åŠ©æ–¼è¦–è¦ºåŒ–çµ„ç¹”å¦‚ä½•å‰µé€ ã€äº¤ä»˜å’Œæ“·å–åƒ¹å€¼ã€‚';
                    } else if (lowerInput.includes('agency') || lowerInput.includes('ä»£ç†')) {
                        response = language === 'en'
                            ? 'Agency problems occur when managers\' interests diverge from shareholders\' interests, potentially leading to decisions that benefit management rather than owners. This is addressed through governance mechanisms like board oversight and performance-based compensation.'
                            : 'ä»£ç†å•é¡Œç™¼ç”Ÿåœ¨ç¶“ç†äººåˆ©ç›Šèˆ‡è‚¡æ±åˆ©ç›Šåˆ†æ­§æ™‚ï¼Œå¯èƒ½å°è‡´æœ‰åˆ©æ–¼ç®¡ç†éšå±¤è€Œéæ‰€æœ‰è€…çš„æ±ºç­–ã€‚é€™å¯é€éè‘£äº‹æœƒç›£ç£å’Œç¸¾æ•ˆå°å‘è–ªé…¬ç­‰æ²»ç†æ©Ÿåˆ¶ä¾†è§£æ±ºã€‚';
                    }

                    console.log('Sending response:', response); // Debug log
                    setMessages(prev => [...prev, { role: 'assistant', content: response }]);
                    setIsTyping(false);
                }, 500);
            }, [input, language]);

            return (
                <div className="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm">
                    <div className={`${darkMode ? 'bg-dark-surface border-2 border-gray-700' : 'bg-white border-2 border-gray-200'} rounded-xl w-full max-w-2xl flex flex-col shadow-2xl`} style={{height: '600px'}}>
                        <div className="flex justify-between items-center p-6 border-b" style={{borderColor: darkMode ? '#374151' : '#e5e7eb'}}>
                            <h2 className="text-2xl font-bold display-font" style={{color: darkMode ? '#00bfa5' : '#004d40'}}>ğŸ¤– {language === 'en' ? 'AI Teaching Assistant' : 'AI åŠ©æ•™'}</h2>
                            <button onClick={onClose} className="text-3xl hover:opacity-70 transition-all" style={{color: darkMode ? '#00bfa5' : '#004d40'}}>Ã—</button>
                        </div>

                        <div className="flex-1 overflow-y-auto p-6 space-y-4">
                            {messages.map((msg, index) => (
                                <div key={index} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                    <div 
                                        className={`max-w-[80%] p-4 rounded-lg ${
                                            msg.role === 'user'
                                                ? 'text-white'
                                                : darkMode ? 'bg-dark-bg border border-gray-700 text-white' : 'bg-gray-100 border border-gray-200 text-gray-900'
                                        }`}
                                        style={msg.role === 'user' ? {backgroundColor: 'var(--bcg-green)'} : {}}
                                    >
                                        {msg.content}
                                    </div>
                                </div>
                            ))}
                            {isTyping && (
                                <div className="flex justify-start">
                                    <div className={`p-4 rounded-lg ${darkMode ? 'bg-dark-bg border border-gray-700' : 'bg-gray-100 border border-gray-200'}`}>
                                        <span className="animate-pulse">è¼¸å…¥ä¸­...</span>
                                    </div>
                                </div>
                            )}
                        </div>

                        <div className="p-6 border-t" style={{borderColor: darkMode ? '#374151' : '#e5e7eb'}}>
                            <div className="flex space-x-2">
                                <input
                                    type="text"
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyPress={(e) => e.key === 'Enter' && handleSend()}
                                    placeholder={language === 'en' ? 'Ask a question...' : 'æå‡ºå•é¡Œ...'}
                                    className={`flex-1 px-4 py-3 rounded-lg border-2 ${
                                        darkMode ? 'bg-dark-bg border-gray-600 text-white placeholder-gray-400' : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500'
                                    } focus:outline-none focus:border-bcg-accent`}
                                />
                                <button
                                    onClick={handleSend}
                                    disabled={!input.trim()}
                                    className="px-6 py-3 rounded-lg text-white font-semibold hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed"
                                    style={{backgroundColor: 'var(--bcg-green)'}}
                                >
                                    {language === 'en' ? 'Send' : 'ç™¼é€'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Floating Buttons Component
        function FloatingButtons({ onShowAI, darkMode, isTTSActive, onStopTTS }) {
            return (
                <div className="fixed bottom-8 right-8 flex flex-col space-y-3 z-40">
                    {isTTSActive && (
                        <button
                            onClick={onStopTTS}
                            className="p-4 rounded-full shadow-2xl hover:scale-110 transition-transform text-white animate-pulse"
                            style={{backgroundColor: '#ef5350'}}
                            title="åœæ­¢æœ—è®€ / Stop Reading"
                        >
                            <span className="text-2xl">â¸ï¸</span>
                        </button>
                    )}
                    <button
                        onClick={onShowAI}
                        className="p-4 rounded-full shadow-2xl hover:scale-110 transition-transform text-white"
                        style={{backgroundColor: 'var(--bcg-green)'}}
                        title="AI åŠ©æ•™ / AI Assistant"
                    >
                        <span className="text-2xl">ğŸ¤–</span>
                    </button>
                </div>
            );
        }

        // Footer Component
        function Footer({ darkMode, language }) {
            return (
                <footer className={`w-full py-6 border-t ${darkMode ? 'border-gray-700 bg-dark-surface' : 'border-gray-300 bg-light-surface'}`}>
                    <div className="max-w-7xl mx-auto px-4 text-center space-y-2">
                        <p className="font-semibold text-base" style={{color: darkMode ? '#00bfa5' : '#004d40'}}>
                            {language === 'en' ? 'Strategic Management of Multinational Corporations' : 'åœ‹éš›ç­–ç•¥ç®¡ç†'}
                        </p>
                        <p className={`text-xs ${darkMode ? 'opacity-70' : 'opacity-60'}`}>
                            SMMC - Strategic Management of Multinational Corporations
                        </p>
                        <p className="text-xs">
                            {language === 'en' ? 'Instructor' : 'æˆèª²æ•™å¸«'}: <a 
                                href="https://www.ibs.ncnu.edu.tw/index.php/faculty/tenured-professor/299-smlo" 
                                target="_blank"
                                rel="noopener noreferrer"
                                className="hover:opacity-100 transition-all underline font-medium"
                                style={{color: 'var(--bcg-accent)'}}
                            >
                                Prof. Shihmin Lo
                            </a>
                        </p>
                        <p className={`text-xs ${darkMode ? 'opacity-50' : 'opacity-40'}`}>Â© 2025 SMMC Learning Platform | v1.0</p>
                    </div>
                </footer>
            );
        }

        // Render the app
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>